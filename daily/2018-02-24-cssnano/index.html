<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>PostCSSä¸æ”¯æŒéƒ¨åˆ†SASSç ”ç©¶ :: Whidy Daily â€” Here is Whidy&#39;s github note, you will find somethings here.</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="2018å¹´2æœˆ24æ—¥ é˜´ è¾ƒå·®
 PostCSSä¸æ”¯æŒéƒ¨åˆ†SASSç ”ç©¶ ç»§ç»­æ˜¨å¤©#{$c}å¦‚ä½•åœ¨PostCSSä¸‹å¾—åˆ°æ”¯æŒ åŸç¯å¢ƒä¸‹, precssæ’ä»¶ç›´æ¥ç¼–è¯‘æŠ¥é”™, æ­¤æ—¶&amp;quot;precss&amp;quot;: &amp;quot;^2.0.0&amp;quot;ç‰ˆæœ¬è¾ƒä½, å‘ç°å®˜æ–¹æœ€æ–°ä¸º3.1.0, æ›´æ–°äº†, å¹¶ä¸ä¼šæŠ¥é”™äº†, ä½†æ˜¯ç¼–è¯‘ç»“æœæ˜¯é”™è¯¯çš„. æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ä»£ç :
postcss.config.js
module.exports = { parser: &#39;postcss-scss&#39;, plugins: [ require(&#39;precss&#39;) ] };  css
.component { $c: &amp;amp;; padding: 2vw; &amp;amp;__card { background-color: #fff; &amp;amp;:hover #{$c}__name { color: #bada55; } } &amp;amp;__name { color: #000; } &amp;amp;__button { background-color: blue; color: #fff; } }  æœŸæœ›ç»“æœ, å¯ä»¥é€šè¿‡è¿™ä¸ªåœ¨çº¿ç¼–è¯‘http://sass.js.org/æµ‹è¯•:
/* æ­¤æ®µä¸ºæœŸæœ›çš„æ­£ç¡®ç»“æœ */ .component { padding: 2vw; } ."/>
<meta name="keywords" content="whidy daily blog"/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/daily/2018-02-24-cssnano/" />


<link rel="stylesheet" href="/assets/style.css">



<link rel="stylesheet" href="/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">

<link rel="shortcut icon" href="/img/favicon/orange.png">



<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="PostCSSä¸æ”¯æŒéƒ¨åˆ†SASSç ”ç©¶ :: Whidy Daily â€” Here is Whidy&#39;s github note, you will find somethings here." />
<meta name="twitter:description" content="2018å¹´2æœˆ24æ—¥ é˜´ è¾ƒå·®
 PostCSSä¸æ”¯æŒéƒ¨åˆ†SASSç ”ç©¶ ç»§ç»­æ˜¨å¤©#{$c}å¦‚ä½•åœ¨PostCSSä¸‹å¾—åˆ°æ”¯æŒ åŸç¯å¢ƒä¸‹, precssæ’ä»¶ç›´æ¥ç¼–è¯‘æŠ¥é”™, æ­¤æ—¶&amp;quot;precss&amp;quot;: &amp;quot;^2.0.0&amp;quot;ç‰ˆæœ¬è¾ƒä½, å‘ç°å®˜æ–¹æœ€æ–°ä¸º3.1.0, æ›´æ–°äº†, å¹¶ä¸ä¼šæŠ¥é”™äº†, ä½†æ˜¯ç¼–è¯‘ç»“æœæ˜¯é”™è¯¯çš„. æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ä»£ç :
postcss.config.js
module.exports = { parser: &#39;postcss-scss&#39;, plugins: [ require(&#39;precss&#39;) ] };  css
.component { $c: &amp;amp;; padding: 2vw; &amp;amp;__card { background-color: #fff; &amp;amp;:hover #{$c}__name { color: #bada55; } } &amp;amp;__name { color: #000; } &amp;amp;__button { background-color: blue; color: #fff; } }  æœŸæœ›ç»“æœ, å¯ä»¥é€šè¿‡è¿™ä¸ªåœ¨çº¿ç¼–è¯‘http://sass.js.org/æµ‹è¯•:
/* æ­¤æ®µä¸ºæœŸæœ›çš„æ­£ç¡®ç»“æœ */ .component { padding: 2vw; } ." />
<meta name="twitter:site" content="/" />
<meta name="twitter:creator" content="whidy" />
<meta name="twitter:image" content="">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="PostCSSä¸æ”¯æŒéƒ¨åˆ†SASSç ”ç©¶ :: Whidy Daily â€” Here is Whidy&#39;s github note, you will find somethings here.">
<meta property="og:description" content="2018å¹´2æœˆ24æ—¥ é˜´ è¾ƒå·®
 PostCSSä¸æ”¯æŒéƒ¨åˆ†SASSç ”ç©¶ ç»§ç»­æ˜¨å¤©#{$c}å¦‚ä½•åœ¨PostCSSä¸‹å¾—åˆ°æ”¯æŒ åŸç¯å¢ƒä¸‹, precssæ’ä»¶ç›´æ¥ç¼–è¯‘æŠ¥é”™, æ­¤æ—¶&amp;quot;precss&amp;quot;: &amp;quot;^2.0.0&amp;quot;ç‰ˆæœ¬è¾ƒä½, å‘ç°å®˜æ–¹æœ€æ–°ä¸º3.1.0, æ›´æ–°äº†, å¹¶ä¸ä¼šæŠ¥é”™äº†, ä½†æ˜¯ç¼–è¯‘ç»“æœæ˜¯é”™è¯¯çš„. æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ä»£ç :
postcss.config.js
module.exports = { parser: &#39;postcss-scss&#39;, plugins: [ require(&#39;precss&#39;) ] };  css
.component { $c: &amp;amp;; padding: 2vw; &amp;amp;__card { background-color: #fff; &amp;amp;:hover #{$c}__name { color: #bada55; } } &amp;amp;__name { color: #000; } &amp;amp;__button { background-color: blue; color: #fff; } }  æœŸæœ›ç»“æœ, å¯ä»¥é€šè¿‡è¿™ä¸ªåœ¨çº¿ç¼–è¯‘http://sass.js.org/æµ‹è¯•:
/* æ­¤æ®µä¸ºæœŸæœ›çš„æ­£ç¡®ç»“æœ */ .component { padding: 2vw; } ." />
<meta property="og:url" content="/daily/2018-02-24-cssnano/" />
<meta property="og:site_name" content="PostCSSä¸æ”¯æŒéƒ¨åˆ†SASSç ”ç©¶" />
<meta property="og:image" content="">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2018-02-24 00:00:00 &#43;0000 UTC" />











</head>
<body class="">


<div class="container">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Daily Note
  </div>
</a>

    </div>
    <div class="menu-trigger">menu</div>
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/daily">DailyğŸ“’</a></li>
        
      
        
          <li><a href="/post">PostğŸ˜</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/daily">DailyğŸ“’</a></li>
      
    
      
        <li><a href="/post">PostğŸ˜</a></li>
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
  <div class="post">
    <h1 class="post-title"><a href="/daily/2018-02-24-cssnano/">PostCSSä¸æ”¯æŒéƒ¨åˆ†SASSç ”ç©¶</a></h1>
    <div class="post-meta">
      <span class="post-date">
        2018-02-24
      </span>
      <span class="post-author">:: whidy</span>
    </div>

    

    

    <div class="post-content">
      

<blockquote>
<p>2018å¹´2æœˆ24æ—¥ é˜´ è¾ƒå·®</p>
</blockquote>

<h1 id="postcssä¸æ”¯æŒéƒ¨åˆ†sassç ”ç©¶">PostCSSä¸æ”¯æŒéƒ¨åˆ†SASSç ”ç©¶</h1>

<h2 id="ç»§ç»­æ˜¨å¤©-c-å¦‚ä½•åœ¨postcssä¸‹å¾—åˆ°æ”¯æŒ">ç»§ç»­æ˜¨å¤©<code>#{$c}</code>å¦‚ä½•åœ¨PostCSSä¸‹å¾—åˆ°æ”¯æŒ</h2>

<p>åŸç¯å¢ƒä¸‹, <code>precss</code>æ’ä»¶ç›´æ¥ç¼–è¯‘æŠ¥é”™, æ­¤æ—¶<code>&quot;precss&quot;: &quot;^2.0.0&quot;</code>ç‰ˆæœ¬è¾ƒä½, å‘ç°å®˜æ–¹æœ€æ–°ä¸º<code>3.1.0</code>, æ›´æ–°äº†, å¹¶ä¸ä¼šæŠ¥é”™äº†, ä½†æ˜¯ç¼–è¯‘ç»“æœæ˜¯é”™è¯¯çš„. æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ä»£ç :</p>

<p><code>postcss.config.js</code></p>

<pre><code class="language-javascript">module.exports = {
  parser: 'postcss-scss',
  plugins: [
    require('precss')
  ]
};
</code></pre>

<p><code>css</code></p>

<pre><code class="language-scss">.component {
  $c: &amp;;
  padding: 2vw;
  &amp;__card {
    background-color: #fff;
    &amp;:hover #{$c}__name {
      color: #bada55;
    }
  }
  &amp;__name {
    color: #000;
  }
  &amp;__button {
    background-color: blue;
    color: #fff;
  }
}
</code></pre>

<p>æœŸæœ›ç»“æœ, å¯ä»¥é€šè¿‡è¿™ä¸ªåœ¨çº¿ç¼–è¯‘<a href="http://sass.js.org/">http://sass.js.org/</a>æµ‹è¯•:</p>

<pre><code class="language-css">/* æ­¤æ®µä¸ºæœŸæœ›çš„æ­£ç¡®ç»“æœ */
.component {
  padding: 2vw;
}

.component__card {
  background-color: #fff;
}

.component__card:hover .component__name {
  color: #bada55;
}

.component__name {
  color: #000;
}

.component__button {
  background-color: blue;
  color: #fff;
}
</code></pre>

<p>è€Œå®é™…<code>precss</code>ç¼–è¯‘ç»“æœ</p>

<pre><code class="language-css">.component {
  padding: 2vw;
}
  .component__card {
    background-color: #fff;
  }
  .component__card:hover .component__card__name {
      color: #bada55;
    }
  .component__name {
    color: #000;
  }
  .component__button {
    background-color: blue;
    color: #fff;
  }
</code></pre>

<p>æ˜¾ç„¶åœ¨å¸¦æœ‰ä¼ªç±»<code>:hover</code>çš„é‚£ä¸€å¤„æ˜¯é”™è¯¯çš„. å‡ ä¹åˆèŠ±äº†ä¸€ä¸Šåˆä¾æ—§æ²¡æœ‰æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ, åªå¥½å»GitHub-<a href="https://github.com/jonathantneal/precss/issues/114">Cannot resolve #{$var} correctly</a>, StackOverflow-<a href="https://stackoverflow.com/questions/48959007/can-postcss-resolve-sass-like-syntax-interpolation-code-correctly">Can PostCSS resolve SASS-like syntax â€œ#{$Interpolation}â€ code correctly
</a>, SegmentFault-<a href="https://segmentfault.com/q/1010000013351848">PostCSSå¦‚ä½•æ­£ç¡®å¤„ç†ç±»ä¼¼â€œ#{$Interpolation}â€è¿™æ ·çš„SASSè¯­æ³•</a>ä¸Šé¢å»æé—®è¯•è¯•äº†, åœ¨å¾—åˆ°ç­”æ¡ˆå‰, æš‚æ—¶ä¸èŠ±æ—¶é—´ç ”ç©¶äº†.</p>

<h2 id="ç»§ç»­æ˜¨å¤©å¦‚ä½•å…³é—­æˆ–é…ç½®-cssnano-çš„æŸäº›æ’ä»¶">ç»§ç»­æ˜¨å¤©å¦‚ä½•å…³é—­æˆ–é…ç½®<code>cssnano</code>çš„æŸäº›æ’ä»¶</h2>

<p>é¦–å…ˆæ˜¯å…³äº(0, Function)(&hellip;arguments)çš„å†™æ³•é—®é¢˜, æˆ‘æ€»ç®—æ‰¾åˆ°äº†ä¸€ä¸ªç­”æ¡ˆ.åšäº†ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹, å¦‚ä¸‹ä»£ç :</p>

<pre><code class="language-javascript">var _b = {
  a: function(x, y) {
    console.log(this);
    return x + y;
  },
  b: function(z) {
    return z * z;
  },
  c: 'hello'
};

var a = (0, _b.a)(3, 6);
var b = (_b.a)(3, 6);
</code></pre>

<p><code>a</code>å’Œ<code>b</code>è¾“å‡ºå€¼éƒ½æ˜¯<code>9</code>,è¿™ä¸ªå¾ˆç®€å•.</p>

<p>ä½†æ˜¯åœ¨<strong>éä¸¥æ ¼æ¨¡å¼</strong>ä¸‹, <code>a</code>çš„ç¬¬ä¸€ä¸ªæ‹¬å·å†…æœ‰ä¸ª0, è¿™ä¸ª0å°±è®©<code>_b.a</code>æ‰§è¡Œæ—¶, å…¶å†…éƒ¨çš„<code>this</code>æŒ‡å‘äº†å…¨å±€, è€Œç¬¬äºŒä¸ªåˆ™æŒ‡å‘<code>_b</code>, ç»“æœå¦‚ä¸‹:</p>

<pre><code class="language-bash">Window {...}
{a: Æ’, b: Æ’, c: &quot;hello&quot;}
undefined
</code></pre>

<p>è€Œ<strong>ä¸¥æ ¼æ¨¡å¼</strong>(<code>'use strict'</code>)ä¸‹, ç»“æœå¦‚ä¸‹:</p>

<pre><code class="language-bash">undefined
{a: Æ’, b: Æ’, c: &quot;hello&quot;}
&quot;use strict&quot;
</code></pre>

<p>å˜é‡<code>a</code>ä¸­çš„<code>this</code>åˆ™æ˜¯<code>undefined</code>. éœ€è¦æ³¨æ„!</p>

<p>å‚é˜…: <a href="https://stackoverflow.com/questions/32275135/why-does-babel-rewrite-imported-function-call-to-0-fn">StackOverflow - Why does babel rewrite imported function call to (0, fn)(â€¦)?</a></p>

<p>é‚£ä¹ˆç»§ç»­çœ‹cssnanoæ’ä»¶å…³é—­çš„é—®é¢˜. è‹¦è‹¦æ‰“äº†æ— æ•°ä¸ªæ–­ç‚¹çš„æ¥æ€è€ƒä»£ç é€»è¾‘çš„æˆ‘å†æŠ˜è…¾äº†å‡ ä¸ªå°æ—¶å, å†³å®šæ”¾å¼ƒ. ç›®å‰çš„æŠ€æœ¯æ°´å¹³, æˆ–è®¸æ˜¯å¾’åŠ³.</p>

<p>è‡³æ­¤, æƒ³è¦å…³é—­<code>postcss-normalize-whitespace</code>æ’ä»¶æ¥è¾¾åˆ°ç¦æ­¢å‹ç¼©ä»£ç çš„ç›®çš„å°±ç»ˆæ­¢æ— æ³•å®ç°äº†.</p>

<blockquote>
<p>æ¥ç€é˜…è¯»ä¹‹å‰çš„æ—¥å¿—&hellip;ç›®å‰è¿›åº¦ <strong>01-29</strong></p>
</blockquote>

    </div>
    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">æŸ¥çœ‹å…¶ä»–</span>
          <hr />
        </div>
        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="/daily/2018-02-28-javascript/">
                <span class="button__icon">â†</span>
                <span class="button__text">å¤ä¹ </span>
              </a>
            </span>
          
          
            <span class="button next">
              <a href="/daily/2018-02-23-cssnano/">
                <span class="button__text">Wang Year of the Dog</span>
                <span class="button__icon">â†’</span>
              </a>
            </span>
          
        </div>
      </div>
    

    

  </div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>Â© 2019 Powered by <a href="http://gohugo.io">Hugo</a></span>
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
    
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>





  
</div>

</body>
</html>
