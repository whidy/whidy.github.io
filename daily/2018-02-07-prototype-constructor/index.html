<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>å‡½æ•°åŸå‹å’Œç»§æ‰¿å­¦ä¹ æ€»ç»“ :: Whidy Daily â€” Here is Whidy&#39;s github note, you will find somethings here.</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="2018å¹´2æœˆ7æ—¥ æ™´ ä¸€èˆ¬
 å‡½æ•°åŸå‹å’Œç»§æ‰¿å­¦ä¹ æ€»ç»“ Object.prototype JSä¸€åˆ‡çš†å¯¹è±¡, å¯¹è±¡éƒ½å…·æœ‰å†…ç½®å±æ€§[[prototype]](ä¹Ÿå¯ç”¨__proto__è¡¨ç¤º). æ¯ä¸ªå‡½æ•°åˆ›å»ºåæ‹¥æœ‰åä¸ºprototypeçš„å±æ€§, å®ƒåˆæœ‰ä¸€ä¸ªconstructor, æœ‰ä¸ªä¾‹å¤–: é€šè¿‡Function.prototype.bindæ–¹æ³•æ„é€ å‡ºæ¥çš„å‡½æ•°æ²¡æœ‰prototypeå±æ€§ã€‚
å·äº†ä¸€å¼ å›¾dorisçš„å›ç­”:
å‚é˜…: * çŸ¥ä¹: jsä¸­__proto__å’Œprototypeçš„åŒºåˆ«å’Œå…³ç³»ï¼Ÿ * MDN: Object.prototype
Object.prototype.constructor è¿”å›åˆ›å»ºå®ä¾‹å¯¹è±¡çš„Objectæ„é€ å‡½æ•°çš„å¼•ç”¨ã€‚ è¿”å›å€¼ä¸ºåªè¯»çš„åŸå§‹ç±»å‹.
è¿™é‡Œæœ‰ä¸ªå…³äºæ”¹å˜å¯¹è±¡çš„constructorä¾‹å­, æ¯”è¾ƒç‰¹åˆ«çš„æ˜¯, æ•°å­—, å¸ƒå°”, å­—ç¬¦ä¸²ä¸è¢«æ”¹å˜.
 åªæœ‰ true, 1 å’Œ &amp;ldquo;test&amp;rdquo; çš„ä¸å—å½±å“ï¼Œå› ä¸ºåˆ›å»ºä»–ä»¬çš„æ˜¯åªè¯»çš„åŸç”Ÿæ„é€ å‡½æ•°ï¼ˆnative constructorsï¼‰ã€‚
 function Type() { }; Type // Æ’ Type() { } var a = []; a.constructor // Æ’ Array() { [native code] } a.constructor = Type; a.constructor // Æ’ Type() { } &amp;quot;è¢«æ”¹å˜&amp;quot; var b = 666; b."/>
<meta name="keywords" content="whidy daily blog"/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/daily/2018-02-07-prototype-constructor/" />


<link rel="stylesheet" href="/assets/style.css">



<link rel="stylesheet" href="/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">

<link rel="shortcut icon" href="/img/favicon/orange.png">



<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="å‡½æ•°åŸå‹å’Œç»§æ‰¿å­¦ä¹ æ€»ç»“ :: Whidy Daily â€” Here is Whidy&#39;s github note, you will find somethings here." />
<meta name="twitter:description" content="2018å¹´2æœˆ7æ—¥ æ™´ ä¸€èˆ¬
 å‡½æ•°åŸå‹å’Œç»§æ‰¿å­¦ä¹ æ€»ç»“ Object.prototype JSä¸€åˆ‡çš†å¯¹è±¡, å¯¹è±¡éƒ½å…·æœ‰å†…ç½®å±æ€§[[prototype]](ä¹Ÿå¯ç”¨__proto__è¡¨ç¤º). æ¯ä¸ªå‡½æ•°åˆ›å»ºåæ‹¥æœ‰åä¸ºprototypeçš„å±æ€§, å®ƒåˆæœ‰ä¸€ä¸ªconstructor, æœ‰ä¸ªä¾‹å¤–: é€šè¿‡Function.prototype.bindæ–¹æ³•æ„é€ å‡ºæ¥çš„å‡½æ•°æ²¡æœ‰prototypeå±æ€§ã€‚
å·äº†ä¸€å¼ å›¾dorisçš„å›ç­”:
å‚é˜…: * çŸ¥ä¹: jsä¸­__proto__å’Œprototypeçš„åŒºåˆ«å’Œå…³ç³»ï¼Ÿ * MDN: Object.prototype
Object.prototype.constructor è¿”å›åˆ›å»ºå®ä¾‹å¯¹è±¡çš„Objectæ„é€ å‡½æ•°çš„å¼•ç”¨ã€‚ è¿”å›å€¼ä¸ºåªè¯»çš„åŸå§‹ç±»å‹.
è¿™é‡Œæœ‰ä¸ªå…³äºæ”¹å˜å¯¹è±¡çš„constructorä¾‹å­, æ¯”è¾ƒç‰¹åˆ«çš„æ˜¯, æ•°å­—, å¸ƒå°”, å­—ç¬¦ä¸²ä¸è¢«æ”¹å˜.
 åªæœ‰ true, 1 å’Œ &amp;ldquo;test&amp;rdquo; çš„ä¸å—å½±å“ï¼Œå› ä¸ºåˆ›å»ºä»–ä»¬çš„æ˜¯åªè¯»çš„åŸç”Ÿæ„é€ å‡½æ•°ï¼ˆnative constructorsï¼‰ã€‚
 function Type() { }; Type // Æ’ Type() { } var a = []; a.constructor // Æ’ Array() { [native code] } a.constructor = Type; a.constructor // Æ’ Type() { } &amp;quot;è¢«æ”¹å˜&amp;quot; var b = 666; b." />
<meta name="twitter:site" content="/" />
<meta name="twitter:creator" content="whidy" />
<meta name="twitter:image" content="">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="å‡½æ•°åŸå‹å’Œç»§æ‰¿å­¦ä¹ æ€»ç»“ :: Whidy Daily â€” Here is Whidy&#39;s github note, you will find somethings here.">
<meta property="og:description" content="2018å¹´2æœˆ7æ—¥ æ™´ ä¸€èˆ¬
 å‡½æ•°åŸå‹å’Œç»§æ‰¿å­¦ä¹ æ€»ç»“ Object.prototype JSä¸€åˆ‡çš†å¯¹è±¡, å¯¹è±¡éƒ½å…·æœ‰å†…ç½®å±æ€§[[prototype]](ä¹Ÿå¯ç”¨__proto__è¡¨ç¤º). æ¯ä¸ªå‡½æ•°åˆ›å»ºåæ‹¥æœ‰åä¸ºprototypeçš„å±æ€§, å®ƒåˆæœ‰ä¸€ä¸ªconstructor, æœ‰ä¸ªä¾‹å¤–: é€šè¿‡Function.prototype.bindæ–¹æ³•æ„é€ å‡ºæ¥çš„å‡½æ•°æ²¡æœ‰prototypeå±æ€§ã€‚
å·äº†ä¸€å¼ å›¾dorisçš„å›ç­”:
å‚é˜…: * çŸ¥ä¹: jsä¸­__proto__å’Œprototypeçš„åŒºåˆ«å’Œå…³ç³»ï¼Ÿ * MDN: Object.prototype
Object.prototype.constructor è¿”å›åˆ›å»ºå®ä¾‹å¯¹è±¡çš„Objectæ„é€ å‡½æ•°çš„å¼•ç”¨ã€‚ è¿”å›å€¼ä¸ºåªè¯»çš„åŸå§‹ç±»å‹.
è¿™é‡Œæœ‰ä¸ªå…³äºæ”¹å˜å¯¹è±¡çš„constructorä¾‹å­, æ¯”è¾ƒç‰¹åˆ«çš„æ˜¯, æ•°å­—, å¸ƒå°”, å­—ç¬¦ä¸²ä¸è¢«æ”¹å˜.
 åªæœ‰ true, 1 å’Œ &amp;ldquo;test&amp;rdquo; çš„ä¸å—å½±å“ï¼Œå› ä¸ºåˆ›å»ºä»–ä»¬çš„æ˜¯åªè¯»çš„åŸç”Ÿæ„é€ å‡½æ•°ï¼ˆnative constructorsï¼‰ã€‚
 function Type() { }; Type // Æ’ Type() { } var a = []; a.constructor // Æ’ Array() { [native code] } a.constructor = Type; a.constructor // Æ’ Type() { } &amp;quot;è¢«æ”¹å˜&amp;quot; var b = 666; b." />
<meta property="og:url" content="/daily/2018-02-07-prototype-constructor/" />
<meta property="og:site_name" content="å‡½æ•°åŸå‹å’Œç»§æ‰¿å­¦ä¹ æ€»ç»“" />
<meta property="og:image" content="">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2018-02-07 00:00:00 &#43;0000 UTC" />











</head>
<body class="">


<div class="container full">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Daily Note
  </div>
</a>

    </div>
    <div class="menu-trigger">menu</div>
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/daily">DailyğŸ“’</a></li>
        
      
        
          <li><a href="/post">PostğŸ˜</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/daily">DailyğŸ“’</a></li>
      
    
      
        <li><a href="/post">PostğŸ˜</a></li>
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
  <div class="post">
    <h1 class="post-title"><a href="/daily/2018-02-07-prototype-constructor/">å‡½æ•°åŸå‹å’Œç»§æ‰¿å­¦ä¹ æ€»ç»“</a></h1>
    <div class="post-meta">
      <span class="post-date">
        2018-02-07
      </span>
      <span class="post-author">:: whidy</span>
    </div>

    

    

    <div class="post-content">
      

<blockquote>
<p>2018å¹´2æœˆ7æ—¥ æ™´ ä¸€èˆ¬</p>
</blockquote>

<h1 id="å‡½æ•°åŸå‹å’Œç»§æ‰¿å­¦ä¹ æ€»ç»“">å‡½æ•°åŸå‹å’Œç»§æ‰¿å­¦ä¹ æ€»ç»“</h1>

<h2 id="object-prototype">Object.prototype</h2>

<p>JSä¸€åˆ‡çš†å¯¹è±¡, å¯¹è±¡éƒ½å…·æœ‰<code>å†…ç½®å±æ€§[[prototype]]</code>(ä¹Ÿå¯ç”¨<code>__proto__</code>è¡¨ç¤º). æ¯ä¸ªå‡½æ•°åˆ›å»ºåæ‹¥æœ‰åä¸º<code>prototype</code>çš„å±æ€§, å®ƒåˆæœ‰ä¸€ä¸ª<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor"><code>constructor</code></a>, æœ‰ä¸ªä¾‹å¤–: <strong>é€šè¿‡Function.prototype.bindæ–¹æ³•æ„é€ å‡ºæ¥çš„å‡½æ•°æ²¡æœ‰prototypeå±æ€§ã€‚</strong></p>

<p>å·äº†ä¸€å¼ å›¾<a href="https://www.zhihu.com/question/34183746/answer/58155878">dorisçš„å›ç­”</a>:</p>

<p><img src="/images/2018-02-07-1.jpg" alt="\_\_proto\_\_å’Œprototype" /></p>

<p>å‚é˜…:
* <a href="https://www.zhihu.com/question/34183746">çŸ¥ä¹: jsä¸­__proto__å’Œprototypeçš„åŒºåˆ«å’Œå…³ç³»ï¼Ÿ</a>
* <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/prototype">MDN: Object.prototype</a></p>

<h2 id="object-prototype-constructor">Object.prototype.constructor</h2>

<p><strong>è¿”å›åˆ›å»ºå®ä¾‹å¯¹è±¡çš„<code>Object</code>æ„é€ å‡½æ•°çš„å¼•ç”¨ã€‚</strong> è¿”å›å€¼ä¸ºåªè¯»çš„åŸå§‹ç±»å‹.</p>

<p>è¿™é‡Œæœ‰ä¸ªå…³äº<code>æ”¹å˜å¯¹è±¡çš„constructor</code>ä¾‹å­, æ¯”è¾ƒç‰¹åˆ«çš„æ˜¯, <strong>æ•°å­—, å¸ƒå°”, å­—ç¬¦ä¸²ä¸è¢«æ”¹å˜</strong>.</p>

<blockquote>
<p>åªæœ‰ true, 1 å’Œ &ldquo;test&rdquo; çš„ä¸å—å½±å“ï¼Œå› ä¸ºåˆ›å»ºä»–ä»¬çš„æ˜¯åªè¯»çš„åŸç”Ÿæ„é€ å‡½æ•°ï¼ˆnative constructorsï¼‰ã€‚</p>
</blockquote>

<pre><code class="language-javascript">function Type() { };
Type // Æ’ Type() { }

var a = [];
a.constructor // Æ’ Array() { [native code] }
a.constructor = Type;
a.constructor // Æ’ Type() { }  &quot;è¢«æ”¹å˜&quot;

var b = 666;
b.constructor // Æ’ Number() { [native code] }
b.constructor = Type;
b.constructor // Æ’ Number() { [native code] }  &quot;æ— æ³•æ”¹å˜&quot;

var c = 'whidy';
c.constructor // Æ’ String() { [native code] }
c.constructor = Type;
c.constructor // Æ’ String() { [native code] }  &quot;æ— æ³•æ”¹å˜&quot;

// åŒç†, å¸ƒå°”ä¹Ÿæ— æ³•æ”¹å˜, å…¶ä»–çš„ä¾‹å¦‚Dateå¯¹è±¡, Mathç­‰ç­‰å‡ä¼šè¢«è¦†ç›–. å–è‡ªMDNä¾‹å­
</code></pre>

<p>å‚é˜…:
* <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor">MDN: Object.prototype.constructor</a></p>

<h2 id="object-create">Object.create()</h2>

<blockquote>
<p><code>Object.create()</code>æ–¹æ³•ä¼šä½¿ç”¨æŒ‡å®šçš„åŸå‹å¯¹è±¡åŠå…¶å±æ€§å»åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚</p>
</blockquote>

<p>Q: MDNçš„<code>ç”¨Object.createå®ç°ç±»å¼ç»§æ‰¿</code>ä¸­<strong>ç»§æ‰¿åˆ°å¤šä¸ªå¯¹è±¡</strong>å¤„, æˆ‘çªç„¶æƒ³åˆ°ä¸€ä¸ªé—®é¢˜, ä¾‹å­ä¸­çš„SuperClasså’ŒOtherSuperClasså¦‚æœæœ‰åŒåçš„å‡½æ•°, ä¼šä¸ä¼šå†²çª- -</p>

<p>A: ä¼šè¢«åé¢çš„è¦†ç›–.</p>

<p>æˆ‘è‡ªå·±æµ‹è¯•ç®€å•å†™äº†ä¸€æ®µæµ‹è¯•ä»£ç :</p>

<pre><code class="language-javascript">function SuperClass(x) {
  return x + x;
}

SuperClass.prototype.extra = function(x) {
  return x * x;
};

function OtherSuperClass(x, y) {
  return x - y;
}

OtherSuperClass.prototype.extra = function(x, y) {
  return x / y;
};

OtherSuperClass.prototype.extra2 = function(x, y) {
  return x / y + 2;
};

function MyClass() {
  SuperClass.call(this);
  OtherSuperClass.call(this);
}

// ç»§æ‰¿ä¸€ä¸ªç±»
MyClass.prototype = Object.create(SuperClass.prototype);
// æ··åˆå…¶å®ƒ
Object.assign(MyClass.prototype, OtherSuperClass.prototype);
// é‡æ–°æŒ‡å®šconstructor
MyClass.prototype.constructor = MyClass;

MyClass.prototype.myMethod = function() {
  console.log('myclass');
};
</code></pre>

<p>Q: ä¸ºå•¥æœ€åè¦é‡æ–°æŒ‡å®š<code>constructor</code>åˆ°è‡ªå·±?</p>

<p>A: &hellip;</p>

<p>åˆ›å»ºç©ºå¯¹è±¡å¹¶æ‹¥æœ‰å±æ€§</p>

<pre><code class="language-javascript">// åˆ›å»ºä¸€ä¸ªä»¥å¦ä¸€ä¸ªç©ºå¯¹è±¡ä¸ºåŸå‹,ä¸”æ‹¥æœ‰ä¸€ä¸ªå±æ€§pçš„å¯¹è±¡
o = Object.create({}, { p: { value: 42 } })

// çœç•¥äº†çš„å±æ€§ç‰¹æ€§é»˜è®¤ä¸ºfalse,æ‰€ä»¥å±æ€§pæ˜¯ä¸å¯å†™,ä¸å¯æšä¸¾,ä¸å¯é…ç½®çš„:
o.p = 24
o.p
//42

o.q = 12
for (var prop in o) {
   console.log(prop)
}
//&quot;q&quot;

delete o.p
//false

//åˆ›å»ºä¸€ä¸ªå¯å†™çš„,å¯æšä¸¾çš„,å¯é…ç½®çš„å±æ€§p
o2 = Object.create({}, {
  p: {
    value: 42, 
    writable: true,
    enumerable: true,
    configurable: true 
  } 
});
</code></pre>

<p>å‚é˜…:
* <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/create">MDN: Object.create()</a></p>

    </div>
    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">æŸ¥çœ‹å…¶ä»–</span>
          <hr />
        </div>
        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="/daily/2018-02-08-object-call-apply/">
                <span class="button__icon">â†</span>
                <span class="button__text">callå’Œapply</span>
              </a>
            </span>
          
          
            <span class="button next">
              <a href="/daily/2018-02-06-es6-function/">
                <span class="button__text">ECMAScript6å…¥é—¨</span>
                <span class="button__icon">â†’</span>
              </a>
            </span>
          
        </div>
      </div>
    

    

  </div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>Â© 2019 Powered by <a href="http://gohugo.io">Hugo</a></span>
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
    
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>





  
</div>

</body>
</html>
