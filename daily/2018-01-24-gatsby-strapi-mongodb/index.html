<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>å®‰è£…Gatsbyå’ŒStrapiè¿‡ç¨‹ä¸­çš„å„ç§é—®é¢˜ :: Whidy Daily â€” Here is Whidy&#39;s github note, you will find somethings here.</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="2018å¹´1æœˆ24æ—¥ é˜´ ä¸€èˆ¬
 å®‰è£…Gatsbyå’ŒStrapi VPSä¸Šå®‰è£…Gatsbyå’ŒStrapiä¸­é‡åˆ°çš„å„ç§é—®é¢˜è§£å†³æ–¹æ¡ˆå’Œç›¸å…³è®°å½•  å‚è€ƒBuilding a static blog using Gatsby and Strapi
 å®‰è£…Gatsby  äº‹æƒ…æ€»æ˜¯ä¸æ˜¯é‚£ä¹ˆé¡ºåˆ©.
 æ ¹æ®Gatsbyæ–‡æ¡£Get started, æ‰§è¡Œåˆ°å¦‚ä¸‹å‘½ä»¤æ—¶:
# gatsby new gatsby-site  æŠ¥é”™, éœ€è¦git. ç„¶è€Œæˆ‘çš„æœåŠ¡å™¨æ²¡è£…, é‚£å°±è£…ä¸€ä¸ªå§. å‚è€ƒDownload for Linux and Unixæ‰§è¡Œ:
# yum install git  å†æ¬¡æ‰§è¡Œåä¾æ—§æŠ¥é”™(å½“å‰gitç‰ˆæœ¬1.7.1)
error Command failed: git clone git://github.com/gatsbyjs/gatsby-starter-default.git gatsby-site --single-branch  æ¨æµ‹æ˜¯ç‰ˆæœ¬é—®é¢˜. åªå¥½æ‰‹åŠ¨å®‰è£…äº†. äºæ˜¯åˆæ‰¾åˆ°è¿™ä¸ªå®‰è£… Git
# yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel # wget https://www.kernel.org/pub/software/scm/git/git-2.16.1.tar.gz # tar -zxf git-2."/>
<meta name="keywords" content="whidy daily blog"/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/daily/2018-01-24-gatsby-strapi-mongodb/" />


<link rel="stylesheet" href="/assets/style.css">



<link rel="stylesheet" href="/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">

<link rel="shortcut icon" href="/img/favicon/orange.png">



<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="å®‰è£…Gatsbyå’ŒStrapiè¿‡ç¨‹ä¸­çš„å„ç§é—®é¢˜ :: Whidy Daily â€” Here is Whidy&#39;s github note, you will find somethings here." />
<meta name="twitter:description" content="2018å¹´1æœˆ24æ—¥ é˜´ ä¸€èˆ¬
 å®‰è£…Gatsbyå’ŒStrapi VPSä¸Šå®‰è£…Gatsbyå’ŒStrapiä¸­é‡åˆ°çš„å„ç§é—®é¢˜è§£å†³æ–¹æ¡ˆå’Œç›¸å…³è®°å½•  å‚è€ƒBuilding a static blog using Gatsby and Strapi
 å®‰è£…Gatsby  äº‹æƒ…æ€»æ˜¯ä¸æ˜¯é‚£ä¹ˆé¡ºåˆ©.
 æ ¹æ®Gatsbyæ–‡æ¡£Get started, æ‰§è¡Œåˆ°å¦‚ä¸‹å‘½ä»¤æ—¶:
# gatsby new gatsby-site  æŠ¥é”™, éœ€è¦git. ç„¶è€Œæˆ‘çš„æœåŠ¡å™¨æ²¡è£…, é‚£å°±è£…ä¸€ä¸ªå§. å‚è€ƒDownload for Linux and Unixæ‰§è¡Œ:
# yum install git  å†æ¬¡æ‰§è¡Œåä¾æ—§æŠ¥é”™(å½“å‰gitç‰ˆæœ¬1.7.1)
error Command failed: git clone git://github.com/gatsbyjs/gatsby-starter-default.git gatsby-site --single-branch  æ¨æµ‹æ˜¯ç‰ˆæœ¬é—®é¢˜. åªå¥½æ‰‹åŠ¨å®‰è£…äº†. äºæ˜¯åˆæ‰¾åˆ°è¿™ä¸ªå®‰è£… Git
# yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel # wget https://www.kernel.org/pub/software/scm/git/git-2.16.1.tar.gz # tar -zxf git-2." />
<meta name="twitter:site" content="/" />
<meta name="twitter:creator" content="whidy" />
<meta name="twitter:image" content="">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="å®‰è£…Gatsbyå’ŒStrapiè¿‡ç¨‹ä¸­çš„å„ç§é—®é¢˜ :: Whidy Daily â€” Here is Whidy&#39;s github note, you will find somethings here.">
<meta property="og:description" content="2018å¹´1æœˆ24æ—¥ é˜´ ä¸€èˆ¬
 å®‰è£…Gatsbyå’ŒStrapi VPSä¸Šå®‰è£…Gatsbyå’ŒStrapiä¸­é‡åˆ°çš„å„ç§é—®é¢˜è§£å†³æ–¹æ¡ˆå’Œç›¸å…³è®°å½•  å‚è€ƒBuilding a static blog using Gatsby and Strapi
 å®‰è£…Gatsby  äº‹æƒ…æ€»æ˜¯ä¸æ˜¯é‚£ä¹ˆé¡ºåˆ©.
 æ ¹æ®Gatsbyæ–‡æ¡£Get started, æ‰§è¡Œåˆ°å¦‚ä¸‹å‘½ä»¤æ—¶:
# gatsby new gatsby-site  æŠ¥é”™, éœ€è¦git. ç„¶è€Œæˆ‘çš„æœåŠ¡å™¨æ²¡è£…, é‚£å°±è£…ä¸€ä¸ªå§. å‚è€ƒDownload for Linux and Unixæ‰§è¡Œ:
# yum install git  å†æ¬¡æ‰§è¡Œåä¾æ—§æŠ¥é”™(å½“å‰gitç‰ˆæœ¬1.7.1)
error Command failed: git clone git://github.com/gatsbyjs/gatsby-starter-default.git gatsby-site --single-branch  æ¨æµ‹æ˜¯ç‰ˆæœ¬é—®é¢˜. åªå¥½æ‰‹åŠ¨å®‰è£…äº†. äºæ˜¯åˆæ‰¾åˆ°è¿™ä¸ªå®‰è£… Git
# yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel # wget https://www.kernel.org/pub/software/scm/git/git-2.16.1.tar.gz # tar -zxf git-2." />
<meta property="og:url" content="/daily/2018-01-24-gatsby-strapi-mongodb/" />
<meta property="og:site_name" content="å®‰è£…Gatsbyå’ŒStrapiè¿‡ç¨‹ä¸­çš„å„ç§é—®é¢˜" />
<meta property="og:image" content="">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2018-01-24 00:00:00 &#43;0000 UTC" />











</head>
<body class="">


<div class="container">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Daily Note
  </div>
</a>

    </div>
    <div class="menu-trigger">menu</div>
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/daily">DailyğŸ“’</a></li>
        
      
        
          <li><a href="/post">PostğŸ˜</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/daily">DailyğŸ“’</a></li>
      
    
      
        <li><a href="/post">PostğŸ˜</a></li>
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
  <div class="post">
    <h1 class="post-title"><a href="/daily/2018-01-24-gatsby-strapi-mongodb/">å®‰è£…Gatsbyå’ŒStrapiè¿‡ç¨‹ä¸­çš„å„ç§é—®é¢˜</a></h1>
    <div class="post-meta">
      <span class="post-date">
        2018-01-24
      </span>
      <span class="post-author">:: whidy</span>
    </div>

    

    

    <div class="post-content">
      

<blockquote>
<p>2018å¹´1æœˆ24æ—¥ é˜´ ä¸€èˆ¬</p>
</blockquote>

<h1 id="å®‰è£…gatsbyå’Œstrapi">å®‰è£…Gatsbyå’ŒStrapi</h1>

<h2 id="vpsä¸Šå®‰è£…gatsbyå’Œstrapiä¸­é‡åˆ°çš„å„ç§é—®é¢˜è§£å†³æ–¹æ¡ˆå’Œç›¸å…³è®°å½•">VPSä¸Šå®‰è£…Gatsbyå’ŒStrapiä¸­é‡åˆ°çš„å„ç§é—®é¢˜è§£å†³æ–¹æ¡ˆå’Œç›¸å…³è®°å½•</h2>

<blockquote>
<p>å‚è€ƒ<a href="https://hackernoon.com/building-a-static-blog-using-gatsby-and-strapi-8b5acfc82ad8">Building a static blog using Gatsby and Strapi</a></p>
</blockquote>

<h3 id="å®‰è£…gatsby">å®‰è£…Gatsby</h3>

<blockquote>
<p>äº‹æƒ…æ€»æ˜¯ä¸æ˜¯é‚£ä¹ˆé¡ºåˆ©.</p>
</blockquote>

<p>æ ¹æ®Gatsbyæ–‡æ¡£<a href="https://www.gatsbyjs.org/docs/">Get started</a>, æ‰§è¡Œåˆ°å¦‚ä¸‹å‘½ä»¤æ—¶:</p>

<pre><code class="language-bash"># gatsby new gatsby-site
</code></pre>

<p>æŠ¥é”™, éœ€è¦<code>git</code>. ç„¶è€Œæˆ‘çš„æœåŠ¡å™¨æ²¡è£…, é‚£å°±è£…ä¸€ä¸ªå§. å‚è€ƒ<a href="https://git-scm.com/download/linux">Download for Linux and Unix</a>æ‰§è¡Œ:</p>

<pre><code class="language-bash"># yum install git
</code></pre>

<p>å†æ¬¡æ‰§è¡Œåä¾æ—§æŠ¥é”™(å½“å‰gitç‰ˆæœ¬<code>1.7.1</code>)</p>

<pre><code class="language-bash">error Command failed: git clone git://github.com/gatsbyjs/gatsby-starter-default.git gatsby-site --single-branch
</code></pre>

<p>æ¨æµ‹æ˜¯ç‰ˆæœ¬é—®é¢˜. åªå¥½æ‰‹åŠ¨å®‰è£…äº†. äºæ˜¯åˆæ‰¾åˆ°è¿™ä¸ª<a href="https://git-scm.com/book/zh/v1/%E8%B5%B7%E6%AD%A5-%E5%AE%89%E8%A3%85-Git">å®‰è£… Git</a></p>

<pre><code class="language-bash"># yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel
# wget https://www.kernel.org/pub/software/scm/git/git-2.16.1.tar.gz
# tar -zxf git-2.16.1.tar.gz
# cd git-2.16.1
# make prefix=/usr/local all
# sudo make prefix=/usr/local install
</code></pre>

<p>æ¼«é•¿çš„<code>make prefix=/usr/local all</code>ä¹‹å, æç¤º:</p>

<pre><code class="language-bash">    SUBDIR perl
/usr/bin/perl Makefile.PL PREFIX=\'/usr/local\' INSTALL_BASE=\'\' --localedir=\'/usr/local/share/locale\'
Can\'t locate ExtUtils/MakeMaker.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at Makefile.PL line 3.
BEGIN failed--compilation aborted at Makefile.PL line 3.
make[1]: *** [perl.mak] Error 2
make: *** [perl/perl.mak] Error 2
</code></pre>

<p>è›‹ç–¼, ç­‰äº†åŠå¤©, åˆè¦è§£å†³è¿™ä¸ªé—®é¢˜, å¥½åœ¨çœ‹èµ·æ¥æ¯”è¾ƒå®¹æ˜“å¤„ç†, å‚è€ƒ<a href="https://github.com/qsnake/qsnake/issues/12">git fails to build in Fedora 14</a>, ç„¶åç»§ç»­æ‰§è¡Œæœ€åä¸¤æ¡<code>make</code>å‘½ä»¤, è™½ç„¶æœ€åå‡ºæ¥å¾ˆå¤šçœ‹èµ·æ¥å¾ˆå¥‡æ€ªçš„å†…å®¹, ä¸è¿‡ä¼¼ä¹æ˜¯æˆåŠŸäº†. æ‰§è¡Œ:</p>

<pre><code class="language-bash"># git --version
git version 2.16.1
</code></pre>

<p>æ¥ä¸‹æ¥æˆ‘ä»¬å†ä¸€æ¬¡æ‰§è¡Œ<code>gatsby new gatsby-site</code>, æˆ‘æ“¦è¿˜æç¤ºåˆšæ‰çš„<code>...single-branch</code>çš„error, è¿™å°±å‘çˆ¹äº†- -. ç»è¿‡ç®€çŸ­çš„æ’æŸ¥. åŸæ¥ä¼¼ä¹ä»–è¿˜æ˜¯è·‘çš„æ—§ç‰ˆgit, éœ€è¦åˆ æ‰ä¹‹å‰yumè‡ªåŠ¨å®‰è£…çš„<code>git 1.7.1</code>, æˆ‘å•çº¯çš„ä»¥ä¸ºç›´æ¥è‡ªåŠ¨å‡çº§äº†. äºæ˜¯:</p>

<pre><code class="language-bash"># yum remove git
</code></pre>

<p>æŒ‰ç…§æç¤ºåˆ é™¤æˆåŠŸå, å†æ¬¡æ£€æµ‹gitè¿˜æ˜¯okçš„, è¿™æ¬¡æˆ‘ç¬¬ä¸‰æ¬¡æ‰§è¡Œ<code>gatsby new gatsby-site</code>, ç»ˆäºæˆåŠŸäº†! æˆ‘è¿™å°ç™½ä¹Ÿä¸çŸ¥é“linuxè½¯ä»¶ç®¡ç†æ˜¯å’‹æ•´çš„. åæ­£èƒ½ç»§ç»­æ‰§è¡Œå¡äº†æˆ‘åŠå¤©çš„gatsbyå°±å¥½äº†å§&hellip;</p>

<p>å‰©ä¸‹çš„ä¾ç…§æ¥ä¸‹æ¥çš„æ–‡æ¡£æ“ä½œå°±å¥½äº†, å¾ˆå¿«å°±çœ‹åˆ°äº†Gatsbyä¸»é¡µäº†~ &ldquo;Hi people&rdquo;!</p>

<blockquote>
<p>æ­¤æ—¶å‡ ä¹è€—è´¹äº†ä¸€ä¸Šåˆçš„æ—¶é—´äº†, å˜˜&hellip; æœŸå¾…èƒ½é€šè¿‡å°è¯•å­¦ä¹ åˆ°react, graphQLç­‰ç›¸å…³çš„å†…å®¹</p>
</blockquote>

<h3 id="å®‰è£…strapi">å®‰è£…Strapi</h3>

<blockquote>
<p>Requirements: please make sure <strong>Node 8</strong> (or higher) and <strong>MongoDB</strong> are installed and running on your machine.</p>
</blockquote>

<p>æ­¤æ—¶, æš—å–œå‰é˜µå­å·²ç»ç¢ç£¨å‡ºæ¥äº†å¹¶è£…å¥½äº†<code>Node 8</code>, ä¸è¿‡è£…MongoDBå°±æ²¡æœ‰äº†. æœæ–­æ‰¾åˆ°æ–‡æ¡£<a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-red-hat/">Install MongoDB Community Edition on Red Hat Enterprise or CentOS Linux</a>, è¿™ä¸ªredhatå’ŒcentOSåº”è¯¥æ˜¯é€šç”¨çš„å§- -! çœ‹åˆ°<a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-red-hat/#configure-the-package-management-system-yum">Configure the package management system (yum).</a>, å‘ç°åŸæ¥è¿˜æœ‰è¿™ç§æ“ä½œ, åˆ›å»ºrepoæ–‡ä»¶, æ¥å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„è½¯ä»¶. é—²è¯å°‘è¯´, æŒ‰æ­¥éª¤å¾ˆå¿«å°±è£…å¥½äº†. æ­¤æ—¶éœ€è¦å¯åŠ¨mongodå†ç»§ç»­å®‰è£…Strapi, å¦‚ä¸‹å‘½ä»¤:</p>

<pre><code class="language-bash"># service mongod start
</code></pre>

<p>åˆ°äº†è¿™ä¸ªæ­¥éª¤çš„æ—¶å€™</p>

<pre><code class="language-bash"># strapi start
</code></pre>

<p>å¡ä½äº†, é¢‘ç¹æŠ¥é”™å¦‚ä¸‹</p>

<pre><code class="language-bash">[root@whidy api]# strapi start
DEBUG (24910 on whidy): Server wasn't able to start properly.
ERROR (24910 on whidy): (hook:mongoose) takes too long to load
</code></pre>

<p>å¤§æ¦‚æ˜¯ç½‘ç»œåŸå› , æˆ‘è”é€šç½‘ç»œå‡ºé—®é¢˜, æ¢äº†ç”µä¿¡å‡ ç•ªå°è¯•å°±å¥½äº†, åˆ›å»ºäº†adminè´¦æˆ·å, è¿›å…¥åå°ç»§ç»­æŒ‰æ­¥éª¤æ“ä½œ.</p>

<blockquote>
<p>æ“ä½œè¿‡ç¨‹ä¸­é¢‘ç¹å‡ºç°åˆšæ‰çš„é—®é¢˜, æˆ‘è§‰å¾—ä¸æ˜¯ç½‘ç»œé—®é¢˜é‚£ä¹ˆç®€å•, æˆ‘æ‰“ç®—ä»æ•°æ®åº“æ–¹é¢ç€æ‰‹å®Œå–„ä¸€ä¸‹è¯•è¯•</p>
</blockquote>

<pre><code class="language-bash"># mango
&gt; use admin
&gt; db.createUser(
    {
      user: &quot;username&quot;,
      pwd: &quot;userpassword&quot;,
      roles: [ { role: &quot;userAdminAnyDatabase&quot;, db: &quot;admin&quot; } ]
    }
  )
# mongo --port 27017 -u &quot;username&quot; -p &quot;userpassword&quot; --authenticationDatabase &quot;admin&quot;
</code></pre>

    </div>
    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">æŸ¥çœ‹å…¶ä»–</span>
          <hr />
        </div>
        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="/daily/2018-01-25-gatsby-strapi-mongodb/">
                <span class="button__icon">â†</span>
                <span class="button__text">å®‰è£…Gatsbyå’ŒStrapiè¿‡ç¨‹ä¸­çš„å„ç§é—®é¢˜</span>
              </a>
            </span>
          
          
            <span class="button next">
              <a href="/daily/2018-01-23-javascript-es6-babel/">
                <span class="button__text">nullå’Œundefinedå¤ä¹ /ES6ä½œç”¨åŸŸå’Œbabelçš„æ¢ç´¢</span>
                <span class="button__icon">â†’</span>
              </a>
            </span>
          
        </div>
      </div>
    

    

  </div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>Â© 2019 Powered by <a href="http://gohugo.io">Hugo</a></span>
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
    
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>





  
</div>

</body>
</html>
