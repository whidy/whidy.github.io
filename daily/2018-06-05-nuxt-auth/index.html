<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Nuxtåœ¨SPAæ¨¡å¼ä¸‹çš„é‰´æƒå¤„ç†(1) :: Whidy Daily â€” Here is Whidy&#39;s github note, you will find somethings here.</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="2018å¹´6æœˆ5æ—¥ é˜´é›¨ ä¸€èˆ¬
æœ€è¿‘é¡¹ç›®ä½¿ç”¨äº†Nuxt, ä¸è¿‡ç”±äºè€ƒè™‘åˆ°é¡¹ç›®éœ€è¦å¿«é€Ÿä¸Šçº¿, æ”¾å¼ƒäº†SSR, ç›´æ¥é‡‡ç”¨å•é¡µé¢SPAæ¨¡å¼è¿›è¡Œå¼€å‘, ä¹Ÿæ˜¯æœ¬äººç¬¬ä¸€æ¬¡ä½¿ç”¨Nuxtæ¥è¿›è¡Œé¡¹ç›®å¼€å‘, ä»¥ä¸‹æ˜¯æˆ‘å¼€å‘ä¸­å¯¹äºé‰´æƒè¿™å—çš„ç ”ç©¶å’Œæ€»ç»“, å› ä¸ºå®˜æ–¹ç»™äº†ä¸€ä¸ªé‰´æƒç¤ºä¾‹æ˜¯åŸºäºServerç«¯çš„, æ‰€ä»¥æˆ‘å°±åˆå†™äº†ä¸€ç¯‡Clientç«¯çš„é‰´æƒæ€»ç»“~
æ–‡ç« åˆ†ä¸ºå¾ˆå¤šç¯‡, ä¼šé€æ­¥å®Œå–„æ›´æ–°, è¯·è€å¿ƒç­‰å¾…&amp;hellip;
 é¢„å¤‡çŸ¥è¯†  Vueå’ŒVuex Document.cookie HTTP çš„åŸºæœ¬æ€§è´¨ Window.localStorageå’ŒWindow.sessionStorage  ä»‹ç» Nuxt.js æ˜¯ä¸€ä¸ªåŸºäº Vue.js çš„é€šç”¨åº”ç”¨æ¡†æ¶ã€‚é‚£ä¹ˆæ—¢ç„¶æ˜¯åŸºäºVueçš„, å®ƒè‡ªç„¶ä¹Ÿå°±ç”¨åˆ°çš„Vuex, é‚£ä¹ˆä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜, å®ƒæœ¬æ˜¯çŠ¶æ€ç®¡ç†æ¨¡å¼, ä¸è¿‡æœ‰æ—¶å€™æˆ‘ä»¬ä¼šä½œä¸ºæ•°æ®å…±äº«çš„ä¸€ç§è§£å†³æ–¹æ¡ˆ, ä½†æ˜¯å®ƒä¼šåœ¨é¡µé¢åˆ·æ–°æ—¶ä¸¢å¤±.
å› æ­¤åœ¨Vueé¡¹ç›®å¼€å‘ä¸­, æˆ‘ä»¬æ¯æ¬¡åˆ·æ–°è·å–æ•°æ®å¯èƒ½åªæœ‰ä¸¤ç§æ–¹å¼:
 æ¯æ¬¡åˆ·æ–°éƒ½ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚, æ‹¿åˆ°æ•°æ®å, å¯¹é¡µé¢é‡æ–°æ›´æ–°è§†å›¾ æ¯æ¬¡æ“ä½œéƒ½ä¼šå­˜åœ¨æœ¬å®¢æˆ·ç«¯çš„Cookieæˆ–è€…Storageä¸­  å¾ˆæ˜¾ç„¶ä¸€èˆ¬æƒ…å†µä¸‹, ç¬¬ä¸€ç§æ–¹æ³•ä¼šç»™æœåŠ¡å™¨èµ„æºé€ æˆæµªè´¹, é™¤ééœ€è¦è·å–çš„æ•°æ®æ˜¯é¢‘ç¹å˜åŒ–çš„, é‚£ä¹ˆæˆ‘ä»¬ä¸€èˆ¬ä¼šä½¿ç”¨ç¬¬äºŒç§. ä¸‹é¢å°±ä¸»è¦é’ˆå¯¹ç¬¬äºŒä¸ªæ–¹æ¡ˆè¿›è¡Œæ€»ç»“.
éœ€æ±‚åˆ†æ æˆ‘ä»¬éƒ½çŸ¥é“HTTPæ˜¯æ— çŠ¶æ€çš„, é‚£ä¹ˆä¸ºäº†è®©ç”¨æˆ·æ¯æ¬¡è®¿é—®é¡µé¢çš„æ—¶å€™ä¼šè¯èƒ½å¤Ÿä¿æŒ, åˆ™éœ€è¦ç”¨cookieæˆ–è€…storageæ¥è®°å½•. æˆ‘ä»¬åå°çš„sessionæœ‰æ•ˆæœŸä¸ºåŠå°æ—¶.
åœ¨è¿™åŠå°æ—¶å†…, ç”¨æˆ·å¤„äºç™»å½•çŠ¶æ€, æœ¬åœ°ä¹Ÿä¿å­˜äº†æœ‰æ•ˆå‡­è¯çš„æƒ…å†µä¸‹, åˆ™è¯¥ç”¨æˆ·çš„æœ‰æ•ˆèµ„æºè¯·æ±‚å¯ä»¥è¢«æ‰§è¡Œ, è€Œæ— éœ€æœåŠ¡å™¨æ¯æ¬¡è¿›è¡ŒéªŒè¯~
éœ€æ±‚æ–¹å¸Œæœ›æœ¬åœ°å­˜å‚¨çš„å‡­è¯ä¼šåœ¨ä¼šè¯å…³é—­åæ¸…é™¤, å› æ­¤æˆ‘ä»¬é¦–å…ˆæ’é™¤localStorage, è€ƒè™‘ä½¿ç”¨Cookieå’ŒsessionStorage! åˆå› ä¸ºæœ¬äººæ¯”è¾ƒæ‡’, Cookieæ“ä½œæ¯”è¾ƒéº»çƒ¦, æ‰€ä»¥å†³å®šä½¿ç”¨sessionStorage.(è™½ç„¶æœ€åè¿˜ä½¿ç”¨äº†æ’ä»¶&amp;hellip;)
åŸºç¡€å®ä¾‹  ç”¨sessionStorageå­˜å‚¨Vuexå…¨å±€dataçš„æ–¹å¼å±•ç¤º
åˆ›å»ºä¸€ä¸ªNuxtåº”ç”¨  æˆ‘ä»¬åŸºäºNuxtçš„Starterçš„Cliæ¥æ„å»ºä¸€ä¸ªç®€å•çš„Nuxtåº”ç”¨, å‘½ä»¤å¦‚ä¸‹"/>
<meta name="keywords" content="whidy daily blog"/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/daily/2018-06-05-nuxt-auth/" />


<link rel="stylesheet" href="/assets/style.css">



<link rel="stylesheet" href="/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">

<link rel="shortcut icon" href="/img/favicon/orange.png">



<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Nuxtåœ¨SPAæ¨¡å¼ä¸‹çš„é‰´æƒå¤„ç†(1) :: Whidy Daily â€” Here is Whidy&#39;s github note, you will find somethings here." />
<meta name="twitter:description" content="2018å¹´6æœˆ5æ—¥ é˜´é›¨ ä¸€èˆ¬
æœ€è¿‘é¡¹ç›®ä½¿ç”¨äº†Nuxt, ä¸è¿‡ç”±äºè€ƒè™‘åˆ°é¡¹ç›®éœ€è¦å¿«é€Ÿä¸Šçº¿, æ”¾å¼ƒäº†SSR, ç›´æ¥é‡‡ç”¨å•é¡µé¢SPAæ¨¡å¼è¿›è¡Œå¼€å‘, ä¹Ÿæ˜¯æœ¬äººç¬¬ä¸€æ¬¡ä½¿ç”¨Nuxtæ¥è¿›è¡Œé¡¹ç›®å¼€å‘, ä»¥ä¸‹æ˜¯æˆ‘å¼€å‘ä¸­å¯¹äºé‰´æƒè¿™å—çš„ç ”ç©¶å’Œæ€»ç»“, å› ä¸ºå®˜æ–¹ç»™äº†ä¸€ä¸ªé‰´æƒç¤ºä¾‹æ˜¯åŸºäºServerç«¯çš„, æ‰€ä»¥æˆ‘å°±åˆå†™äº†ä¸€ç¯‡Clientç«¯çš„é‰´æƒæ€»ç»“~
æ–‡ç« åˆ†ä¸ºå¾ˆå¤šç¯‡, ä¼šé€æ­¥å®Œå–„æ›´æ–°, è¯·è€å¿ƒç­‰å¾…&amp;hellip;
 é¢„å¤‡çŸ¥è¯†  Vueå’ŒVuex Document.cookie HTTP çš„åŸºæœ¬æ€§è´¨ Window.localStorageå’ŒWindow.sessionStorage  ä»‹ç» Nuxt.js æ˜¯ä¸€ä¸ªåŸºäº Vue.js çš„é€šç”¨åº”ç”¨æ¡†æ¶ã€‚é‚£ä¹ˆæ—¢ç„¶æ˜¯åŸºäºVueçš„, å®ƒè‡ªç„¶ä¹Ÿå°±ç”¨åˆ°çš„Vuex, é‚£ä¹ˆä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜, å®ƒæœ¬æ˜¯çŠ¶æ€ç®¡ç†æ¨¡å¼, ä¸è¿‡æœ‰æ—¶å€™æˆ‘ä»¬ä¼šä½œä¸ºæ•°æ®å…±äº«çš„ä¸€ç§è§£å†³æ–¹æ¡ˆ, ä½†æ˜¯å®ƒä¼šåœ¨é¡µé¢åˆ·æ–°æ—¶ä¸¢å¤±.
å› æ­¤åœ¨Vueé¡¹ç›®å¼€å‘ä¸­, æˆ‘ä»¬æ¯æ¬¡åˆ·æ–°è·å–æ•°æ®å¯èƒ½åªæœ‰ä¸¤ç§æ–¹å¼:
 æ¯æ¬¡åˆ·æ–°éƒ½ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚, æ‹¿åˆ°æ•°æ®å, å¯¹é¡µé¢é‡æ–°æ›´æ–°è§†å›¾ æ¯æ¬¡æ“ä½œéƒ½ä¼šå­˜åœ¨æœ¬å®¢æˆ·ç«¯çš„Cookieæˆ–è€…Storageä¸­  å¾ˆæ˜¾ç„¶ä¸€èˆ¬æƒ…å†µä¸‹, ç¬¬ä¸€ç§æ–¹æ³•ä¼šç»™æœåŠ¡å™¨èµ„æºé€ æˆæµªè´¹, é™¤ééœ€è¦è·å–çš„æ•°æ®æ˜¯é¢‘ç¹å˜åŒ–çš„, é‚£ä¹ˆæˆ‘ä»¬ä¸€èˆ¬ä¼šä½¿ç”¨ç¬¬äºŒç§. ä¸‹é¢å°±ä¸»è¦é’ˆå¯¹ç¬¬äºŒä¸ªæ–¹æ¡ˆè¿›è¡Œæ€»ç»“.
éœ€æ±‚åˆ†æ æˆ‘ä»¬éƒ½çŸ¥é“HTTPæ˜¯æ— çŠ¶æ€çš„, é‚£ä¹ˆä¸ºäº†è®©ç”¨æˆ·æ¯æ¬¡è®¿é—®é¡µé¢çš„æ—¶å€™ä¼šè¯èƒ½å¤Ÿä¿æŒ, åˆ™éœ€è¦ç”¨cookieæˆ–è€…storageæ¥è®°å½•. æˆ‘ä»¬åå°çš„sessionæœ‰æ•ˆæœŸä¸ºåŠå°æ—¶.
åœ¨è¿™åŠå°æ—¶å†…, ç”¨æˆ·å¤„äºç™»å½•çŠ¶æ€, æœ¬åœ°ä¹Ÿä¿å­˜äº†æœ‰æ•ˆå‡­è¯çš„æƒ…å†µä¸‹, åˆ™è¯¥ç”¨æˆ·çš„æœ‰æ•ˆèµ„æºè¯·æ±‚å¯ä»¥è¢«æ‰§è¡Œ, è€Œæ— éœ€æœåŠ¡å™¨æ¯æ¬¡è¿›è¡ŒéªŒè¯~
éœ€æ±‚æ–¹å¸Œæœ›æœ¬åœ°å­˜å‚¨çš„å‡­è¯ä¼šåœ¨ä¼šè¯å…³é—­åæ¸…é™¤, å› æ­¤æˆ‘ä»¬é¦–å…ˆæ’é™¤localStorage, è€ƒè™‘ä½¿ç”¨Cookieå’ŒsessionStorage! åˆå› ä¸ºæœ¬äººæ¯”è¾ƒæ‡’, Cookieæ“ä½œæ¯”è¾ƒéº»çƒ¦, æ‰€ä»¥å†³å®šä½¿ç”¨sessionStorage.(è™½ç„¶æœ€åè¿˜ä½¿ç”¨äº†æ’ä»¶&amp;hellip;)
åŸºç¡€å®ä¾‹  ç”¨sessionStorageå­˜å‚¨Vuexå…¨å±€dataçš„æ–¹å¼å±•ç¤º
åˆ›å»ºä¸€ä¸ªNuxtåº”ç”¨  æˆ‘ä»¬åŸºäºNuxtçš„Starterçš„Cliæ¥æ„å»ºä¸€ä¸ªç®€å•çš„Nuxtåº”ç”¨, å‘½ä»¤å¦‚ä¸‹" />
<meta name="twitter:site" content="/" />
<meta name="twitter:creator" content="whidy" />
<meta name="twitter:image" content="">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Nuxtåœ¨SPAæ¨¡å¼ä¸‹çš„é‰´æƒå¤„ç†(1) :: Whidy Daily â€” Here is Whidy&#39;s github note, you will find somethings here.">
<meta property="og:description" content="2018å¹´6æœˆ5æ—¥ é˜´é›¨ ä¸€èˆ¬
æœ€è¿‘é¡¹ç›®ä½¿ç”¨äº†Nuxt, ä¸è¿‡ç”±äºè€ƒè™‘åˆ°é¡¹ç›®éœ€è¦å¿«é€Ÿä¸Šçº¿, æ”¾å¼ƒäº†SSR, ç›´æ¥é‡‡ç”¨å•é¡µé¢SPAæ¨¡å¼è¿›è¡Œå¼€å‘, ä¹Ÿæ˜¯æœ¬äººç¬¬ä¸€æ¬¡ä½¿ç”¨Nuxtæ¥è¿›è¡Œé¡¹ç›®å¼€å‘, ä»¥ä¸‹æ˜¯æˆ‘å¼€å‘ä¸­å¯¹äºé‰´æƒè¿™å—çš„ç ”ç©¶å’Œæ€»ç»“, å› ä¸ºå®˜æ–¹ç»™äº†ä¸€ä¸ªé‰´æƒç¤ºä¾‹æ˜¯åŸºäºServerç«¯çš„, æ‰€ä»¥æˆ‘å°±åˆå†™äº†ä¸€ç¯‡Clientç«¯çš„é‰´æƒæ€»ç»“~
æ–‡ç« åˆ†ä¸ºå¾ˆå¤šç¯‡, ä¼šé€æ­¥å®Œå–„æ›´æ–°, è¯·è€å¿ƒç­‰å¾…&amp;hellip;
 é¢„å¤‡çŸ¥è¯†  Vueå’ŒVuex Document.cookie HTTP çš„åŸºæœ¬æ€§è´¨ Window.localStorageå’ŒWindow.sessionStorage  ä»‹ç» Nuxt.js æ˜¯ä¸€ä¸ªåŸºäº Vue.js çš„é€šç”¨åº”ç”¨æ¡†æ¶ã€‚é‚£ä¹ˆæ—¢ç„¶æ˜¯åŸºäºVueçš„, å®ƒè‡ªç„¶ä¹Ÿå°±ç”¨åˆ°çš„Vuex, é‚£ä¹ˆä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜, å®ƒæœ¬æ˜¯çŠ¶æ€ç®¡ç†æ¨¡å¼, ä¸è¿‡æœ‰æ—¶å€™æˆ‘ä»¬ä¼šä½œä¸ºæ•°æ®å…±äº«çš„ä¸€ç§è§£å†³æ–¹æ¡ˆ, ä½†æ˜¯å®ƒä¼šåœ¨é¡µé¢åˆ·æ–°æ—¶ä¸¢å¤±.
å› æ­¤åœ¨Vueé¡¹ç›®å¼€å‘ä¸­, æˆ‘ä»¬æ¯æ¬¡åˆ·æ–°è·å–æ•°æ®å¯èƒ½åªæœ‰ä¸¤ç§æ–¹å¼:
 æ¯æ¬¡åˆ·æ–°éƒ½ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚, æ‹¿åˆ°æ•°æ®å, å¯¹é¡µé¢é‡æ–°æ›´æ–°è§†å›¾ æ¯æ¬¡æ“ä½œéƒ½ä¼šå­˜åœ¨æœ¬å®¢æˆ·ç«¯çš„Cookieæˆ–è€…Storageä¸­  å¾ˆæ˜¾ç„¶ä¸€èˆ¬æƒ…å†µä¸‹, ç¬¬ä¸€ç§æ–¹æ³•ä¼šç»™æœåŠ¡å™¨èµ„æºé€ æˆæµªè´¹, é™¤ééœ€è¦è·å–çš„æ•°æ®æ˜¯é¢‘ç¹å˜åŒ–çš„, é‚£ä¹ˆæˆ‘ä»¬ä¸€èˆ¬ä¼šä½¿ç”¨ç¬¬äºŒç§. ä¸‹é¢å°±ä¸»è¦é’ˆå¯¹ç¬¬äºŒä¸ªæ–¹æ¡ˆè¿›è¡Œæ€»ç»“.
éœ€æ±‚åˆ†æ æˆ‘ä»¬éƒ½çŸ¥é“HTTPæ˜¯æ— çŠ¶æ€çš„, é‚£ä¹ˆä¸ºäº†è®©ç”¨æˆ·æ¯æ¬¡è®¿é—®é¡µé¢çš„æ—¶å€™ä¼šè¯èƒ½å¤Ÿä¿æŒ, åˆ™éœ€è¦ç”¨cookieæˆ–è€…storageæ¥è®°å½•. æˆ‘ä»¬åå°çš„sessionæœ‰æ•ˆæœŸä¸ºåŠå°æ—¶.
åœ¨è¿™åŠå°æ—¶å†…, ç”¨æˆ·å¤„äºç™»å½•çŠ¶æ€, æœ¬åœ°ä¹Ÿä¿å­˜äº†æœ‰æ•ˆå‡­è¯çš„æƒ…å†µä¸‹, åˆ™è¯¥ç”¨æˆ·çš„æœ‰æ•ˆèµ„æºè¯·æ±‚å¯ä»¥è¢«æ‰§è¡Œ, è€Œæ— éœ€æœåŠ¡å™¨æ¯æ¬¡è¿›è¡ŒéªŒè¯~
éœ€æ±‚æ–¹å¸Œæœ›æœ¬åœ°å­˜å‚¨çš„å‡­è¯ä¼šåœ¨ä¼šè¯å…³é—­åæ¸…é™¤, å› æ­¤æˆ‘ä»¬é¦–å…ˆæ’é™¤localStorage, è€ƒè™‘ä½¿ç”¨Cookieå’ŒsessionStorage! åˆå› ä¸ºæœ¬äººæ¯”è¾ƒæ‡’, Cookieæ“ä½œæ¯”è¾ƒéº»çƒ¦, æ‰€ä»¥å†³å®šä½¿ç”¨sessionStorage.(è™½ç„¶æœ€åè¿˜ä½¿ç”¨äº†æ’ä»¶&amp;hellip;)
åŸºç¡€å®ä¾‹  ç”¨sessionStorageå­˜å‚¨Vuexå…¨å±€dataçš„æ–¹å¼å±•ç¤º
åˆ›å»ºä¸€ä¸ªNuxtåº”ç”¨  æˆ‘ä»¬åŸºäºNuxtçš„Starterçš„Cliæ¥æ„å»ºä¸€ä¸ªç®€å•çš„Nuxtåº”ç”¨, å‘½ä»¤å¦‚ä¸‹" />
<meta property="og:url" content="/daily/2018-06-05-nuxt-auth/" />
<meta property="og:site_name" content="Nuxtåœ¨SPAæ¨¡å¼ä¸‹çš„é‰´æƒå¤„ç†(1)" />
<meta property="og:image" content="">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2018-06-05 00:00:00 &#43;0000 UTC" />











</head>
<body class="">


<div class="container">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Daily Note
  </div>
</a>

    </div>
    <div class="menu-trigger">menu</div>
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/daily">DailyğŸ“’</a></li>
        
      
        
          <li><a href="/post">PostğŸ˜</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/daily">DailyğŸ“’</a></li>
      
    
      
        <li><a href="/post">PostğŸ˜</a></li>
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
  <div class="post">
    <h1 class="post-title"><a href="/daily/2018-06-05-nuxt-auth/">Nuxtåœ¨SPAæ¨¡å¼ä¸‹çš„é‰´æƒå¤„ç†(1)</a></h1>
    <div class="post-meta">
      <span class="post-date">
        2018-06-05
      </span>
      <span class="post-author">:: whidy</span>
    </div>

    

    

    <div class="post-content">
      

<blockquote>
<p>2018å¹´6æœˆ5æ—¥ é˜´é›¨ ä¸€èˆ¬</p>

<p>æœ€è¿‘é¡¹ç›®ä½¿ç”¨äº†Nuxt, ä¸è¿‡ç”±äºè€ƒè™‘åˆ°é¡¹ç›®éœ€è¦å¿«é€Ÿä¸Šçº¿, æ”¾å¼ƒäº†SSR, ç›´æ¥é‡‡ç”¨å•é¡µé¢SPAæ¨¡å¼è¿›è¡Œå¼€å‘, ä¹Ÿæ˜¯æœ¬äººç¬¬ä¸€æ¬¡ä½¿ç”¨Nuxtæ¥è¿›è¡Œé¡¹ç›®å¼€å‘, ä»¥ä¸‹æ˜¯æˆ‘å¼€å‘ä¸­å¯¹äº<strong>é‰´æƒè¿™å—çš„ç ”ç©¶å’Œæ€»ç»“</strong>, å› ä¸ºå®˜æ–¹ç»™äº†ä¸€ä¸ª<a href="https://zh.nuxtjs.org/examples/auth-routes/">é‰´æƒç¤ºä¾‹</a>æ˜¯åŸºäºServerç«¯çš„, æ‰€ä»¥æˆ‘å°±åˆå†™äº†ä¸€ç¯‡Clientç«¯çš„é‰´æƒæ€»ç»“~</p>

<p>æ–‡ç« åˆ†ä¸ºå¾ˆå¤šç¯‡, ä¼šé€æ­¥å®Œå–„æ›´æ–°, è¯·è€å¿ƒç­‰å¾…&hellip;</p>
</blockquote>

<h2 id="é¢„å¤‡çŸ¥è¯†">é¢„å¤‡çŸ¥è¯†</h2>

<ul>
<li><a href="https://cn.vuejs.org/v2/guide/">Vue</a>å’Œ<a href="https://vuex.vuejs.org/zh/">Vuex</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/cookie">Document.cookie</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Overview#HTTP_%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%80%A7%E8%B4%A8">HTTP çš„åŸºæœ¬æ€§è´¨</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/localStorage">Window.localStorage</a>å’Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/sessionStorage">Window.sessionStorage</a></li>
</ul>

<h2 id="ä»‹ç»">ä»‹ç»</h2>

<p><strong>Nuxt.js æ˜¯ä¸€ä¸ªåŸºäº Vue.js çš„é€šç”¨åº”ç”¨æ¡†æ¶ã€‚</strong>é‚£ä¹ˆæ—¢ç„¶æ˜¯åŸºäºVueçš„, å®ƒè‡ªç„¶ä¹Ÿå°±ç”¨åˆ°çš„<strong>Vuex</strong>, é‚£ä¹ˆä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜, å®ƒæœ¬æ˜¯<strong>çŠ¶æ€ç®¡ç†æ¨¡å¼</strong>, ä¸è¿‡æœ‰æ—¶å€™æˆ‘ä»¬ä¼šä½œä¸ºæ•°æ®å…±äº«çš„ä¸€ç§è§£å†³æ–¹æ¡ˆ, ä½†æ˜¯å®ƒä¼šåœ¨é¡µé¢åˆ·æ–°æ—¶ä¸¢å¤±.</p>

<p>å› æ­¤åœ¨Vueé¡¹ç›®å¼€å‘ä¸­, æˆ‘ä»¬æ¯æ¬¡åˆ·æ–°è·å–æ•°æ®å¯èƒ½åªæœ‰ä¸¤ç§æ–¹å¼:</p>

<ol>
<li>æ¯æ¬¡åˆ·æ–°éƒ½ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚, æ‹¿åˆ°æ•°æ®å, å¯¹é¡µé¢é‡æ–°æ›´æ–°è§†å›¾</li>
<li>æ¯æ¬¡æ“ä½œéƒ½ä¼šå­˜åœ¨æœ¬å®¢æˆ·ç«¯çš„Cookieæˆ–è€…Storageä¸­</li>
</ol>

<p>å¾ˆæ˜¾ç„¶ä¸€èˆ¬æƒ…å†µä¸‹, ç¬¬ä¸€ç§æ–¹æ³•ä¼šç»™æœåŠ¡å™¨èµ„æºé€ æˆæµªè´¹, é™¤ééœ€è¦è·å–çš„æ•°æ®æ˜¯é¢‘ç¹å˜åŒ–çš„, é‚£ä¹ˆæˆ‘ä»¬ä¸€èˆ¬ä¼šä½¿ç”¨ç¬¬äºŒç§. ä¸‹é¢å°±ä¸»è¦é’ˆå¯¹ç¬¬äºŒä¸ªæ–¹æ¡ˆè¿›è¡Œæ€»ç»“.</p>

<h2 id="éœ€æ±‚åˆ†æ">éœ€æ±‚åˆ†æ</h2>

<p>æˆ‘ä»¬éƒ½çŸ¥é“HTTPæ˜¯æ— çŠ¶æ€çš„, é‚£ä¹ˆä¸ºäº†è®©ç”¨æˆ·æ¯æ¬¡è®¿é—®é¡µé¢çš„æ—¶å€™ä¼šè¯èƒ½å¤Ÿä¿æŒ, åˆ™éœ€è¦ç”¨cookieæˆ–è€…storageæ¥è®°å½•. æˆ‘ä»¬åå°çš„sessionæœ‰æ•ˆæœŸä¸ºåŠå°æ—¶.</p>

<p>åœ¨è¿™åŠå°æ—¶å†…, ç”¨æˆ·å¤„äºç™»å½•çŠ¶æ€, æœ¬åœ°ä¹Ÿä¿å­˜äº†æœ‰æ•ˆå‡­è¯çš„æƒ…å†µä¸‹, åˆ™è¯¥ç”¨æˆ·çš„æœ‰æ•ˆèµ„æºè¯·æ±‚å¯ä»¥è¢«æ‰§è¡Œ, è€Œæ— éœ€æœåŠ¡å™¨æ¯æ¬¡è¿›è¡ŒéªŒè¯~</p>

<p>éœ€æ±‚æ–¹å¸Œæœ›æœ¬åœ°å­˜å‚¨çš„å‡­è¯ä¼šåœ¨ä¼šè¯å…³é—­åæ¸…é™¤, å› æ­¤æˆ‘ä»¬é¦–å…ˆæ’é™¤<code>localStorage</code>, è€ƒè™‘ä½¿ç”¨<code>Cookie</code>å’Œ<code>sessionStorage</code>! åˆå› ä¸ºæœ¬äººæ¯”è¾ƒæ‡’, Cookieæ“ä½œæ¯”è¾ƒéº»çƒ¦, æ‰€ä»¥å†³å®šä½¿ç”¨<code>sessionStorage</code>.(è™½ç„¶æœ€åè¿˜ä½¿ç”¨äº†æ’ä»¶&hellip;)</p>

<h2 id="åŸºç¡€å®ä¾‹">åŸºç¡€å®ä¾‹</h2>

<blockquote>
<p>ç”¨sessionStorageå­˜å‚¨Vuexå…¨å±€dataçš„æ–¹å¼å±•ç¤º</p>

<h3 id="åˆ›å»ºä¸€ä¸ªnuxtåº”ç”¨">åˆ›å»ºä¸€ä¸ªNuxtåº”ç”¨</h3>
</blockquote>

<p>æˆ‘ä»¬åŸºäºNuxtçš„Starterçš„Cliæ¥æ„å»ºä¸€ä¸ªç®€å•çš„Nuxtåº”ç”¨, å‘½ä»¤å¦‚ä¸‹</p>

<pre><code class="language-sh">vue init nuxt-community/starter-template nuxt-spa-demo
cd nuxt-spa-demo
npm i
</code></pre>

<h3 id="ä¿®æ”¹æ¨¡å¼ä¸ºspaæ¨¡å¼">ä¿®æ”¹æ¨¡å¼ä¸ºSPAæ¨¡å¼</h3>

<p>ä¿®æ”¹ä¿®æ”¹<code>nuxt.config.js</code>, æ·»åŠ <code>mode: 'spa',</code>, å¤§è‡´å¦‚ä¸‹:</p>

<pre><code class="language-javascript">module.exports = {
  mode: 'spa',
  head: {
    ...
  }
  ...
}
</code></pre>

<h3 id="åˆ›å»ºvuexåŸºæœ¬å†…å®¹">åˆ›å»ºVuexåŸºæœ¬å†…å®¹</h3>

<p>ç„¶å<code>store</code>ç›®å½•åˆ›å»ºä¸€ä¸ª<code>index.js</code>, ä»£ç å¦‚ä¸‹</p>

<pre><code class="language-javascript">export const state = () =&gt; ({
  counter: window.sessionStorage.getItem('counter') || 0
})

export const mutations = {
  increment: state =&gt; {
    state.counter++
    window.sessionStorage.setItem('counter', state.counter)
  },
  decrement: state =&gt; {
    state.counter--
    window.sessionStorage.setItem('counter', state.counter)
  }
}
</code></pre>

<p>é‚£ä¹ˆåœ¨Vuexçš„Mutatationsä¸­, æ¯æ¬¡ä¹Ÿä¼šåŒæ—¶å¯¹sessionStorageè¿›è¡Œæ“ä½œ.</p>

<p>å¦å¤–åœ¨é¡µé¢åŠ è½½æ—¶, å…ˆæ£€æŸ¥sessionStorageä¸­æ˜¯å¦å­˜åœ¨<code>counter</code>è¿™æ ·ä¸€ä¸ªå˜é‡, å¦‚æœæ²¡æœ‰åˆ™è®¾ç½®é»˜è®¤å€¼<code>0</code></p>

<h3 id="åˆ›å»ºä¸€ä¸ªå¯æ“ä½œvuexçš„ç•Œé¢">åˆ›å»ºä¸€ä¸ªå¯æ“ä½œVuexçš„ç•Œé¢</h3>

<p>æ¥ç€ä¿®æ”¹é»˜è®¤ä¸»é¡µ<code>page/index.vue</code>, ä»£ç å¤§è‡´å¦‚ä¸‹</p>

<pre><code class="language-html">&lt;template&gt;
  &lt;section class=&quot;container&quot;&gt;
    &lt;div class=&quot;demo-wrap&quot;&gt;
      &lt;app-logo/&gt;
      &lt;h1 class=&quot;title&quot;&gt;
        nuxt-spa-demo
      &lt;/h1&gt;
      &lt;h2 class=&quot;subtitle&quot;&gt;
        Nuxt with sessionStorage or cookie
      &lt;/h2&gt;
      &lt;div class=&quot;content&quot;&gt;
        &lt;p&gt;{{ counter }}&lt;/p&gt;
        &lt;p&gt;
          &lt;button @click=&quot;increment&quot;&gt;+&lt;/button&gt;
          &lt;button @click=&quot;decrement&quot;&gt;-&lt;/button&gt;
        &lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/section&gt;
&lt;/template&gt;
&lt;template&gt;
  &lt;section class=&quot;container&quot;&gt;
    &lt;div class=&quot;demo-wrap&quot;&gt;
      &lt;app-logo/&gt;
      &lt;h1 class=&quot;title&quot;&gt;
        nuxt-spa-demo
      &lt;/h1&gt;
      &lt;h2 class=&quot;subtitle&quot;&gt;
        Nuxt with sessionStorage or cookie
      &lt;/h2&gt;
      &lt;div class=&quot;content&quot;&gt;
        &lt;p&gt;{{ counter }}&lt;/p&gt;
        &lt;p&gt;
          &lt;button @click=&quot;increment&quot;&gt;+&lt;/button&gt;
          &lt;button @click=&quot;decrement&quot;&gt;-&lt;/button&gt;
        &lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/section&gt;
&lt;/template&gt;

&lt;script&gt;
import AppLogo from '~/components/AppLogo.vue'
import { mapState, mapMutations } from 'vuex'
export default {
  components: {
    AppLogo
  },
  computed: {
    ...mapState(['counter'])
  },
  methods: {
    ...mapMutations(['increment', 'decrement'])
  }
}
&lt;/script&gt;
&lt;style lang=&quot;scss&quot; scoped&gt;
...
&lt;/style&gt;
</code></pre>

<h3 id="è¿è¡Œåº”ç”¨å¹¶æµ‹è¯•">è¿è¡Œåº”ç”¨å¹¶æµ‹è¯•</h3>

<p>ä¿®æ”¹åŸºæœ¬å®Œæˆå, å¤§è‡´çš„æ•ˆæœå¯è§è¯¥åˆ†æ”¯<a href="https://github.com/whidy/nuxt-spa-demo/tree/nuxt-auth-a">nuxt-auth-a</a>, ç„¶åè¿è¡Œåº”ç”¨</p>

<pre><code class="language-sh">npm run dev
</code></pre>

<p>æ‰“å¼€<code>http://localhost:3000</code>, ç‚¹å‡» <code>+</code>æˆ–<code>-</code>, æ•°å­—å˜åŒ–å, åˆ·æ–°é¡µé¢, å¯ä»¥è§‚å¯Ÿåˆ°, å®ƒå¹¶ä¸ä¼šå›åˆ°<code>0</code>, é‚£ä¹ˆä¸€ä¸ªç®€å•çš„å®ä¾‹å°±å®Œæˆäº†.</p>

<blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯
* sessionStorageçš„æ•°æ®å¹¶ä¸ä¼šåœ¨å¤šä¸ªç›¸åŒç½‘ç«™åœ°å€çš„çª—å£å…±äº«, ä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡è¿æ¥éƒ½æ˜¯æ–°çš„
* sessionStorageå­˜å‚¨çš„æ•°æ®, å…³é—­å½“å‰æ ‡ç­¾, é‡æ–°å¼€å¯, æ•°æ®ä¼šæ¸…ç©º, ä½†æ˜¯å¦‚æœä½ å¹¶ä¸æ˜¯æ–°çš„è¯·æ±‚, ä¾‹å¦‚æ‰§è¡Œäº†<strong>æ’¤é”€ä¸Šä¸€æ¬¡å…³é—­çš„æ ‡ç­¾(<code>Ctrl+Shift+T</code>)</strong>è¿™æ ·çš„æ“ä½œ, ä»–ä¹‹å‰çš„æ•°æ®ä¾æ—§ä¿ç•™</p>
</blockquote>

<h2 id="æ€»ç»“">æ€»ç»“</h2>

<p>å…¶å®ä¸€ä¸ªæœ€ç®€å•çš„åŸºäºsessionStorageçš„å­˜å‚¨æ•°æ®çš„ä¾‹å­, ä»£ç å¹¶ä¸å¤š, ä½†æ˜¯ä¸€æ—¦ç”¨äºå¤æ‚çš„é¡¹ç›®åº”ç”¨ä¸­, ä¹Ÿè®¸è¿™ç§å¤„ç†æ–¹å¼å¹¶ä¸å¥½, æ¯”å¦‚è¯´éœ€æ±‚å˜æ›´å¸¦æ¥çš„è°ƒæ•´ç­‰ç­‰, å€ŸåŠ©æ’ä»¶æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©. æœ¬æ¬¡ä»‹ç»çš„å†…å®¹æ¯”è¾ƒç®€å•, åé¢ä¼šé€æ­¥å®Œå–„Nuxté‰´æƒçš„è¿‡ç¨‹çš„æ€è€ƒ.</p>

<blockquote>
<p>æœ¬äººä¹Ÿæ˜¯è¾¹åœ¨å­¦ä¹ è¾¹å®è·µæ€»ç»“, æ–‡ä¸­å¦‚æœ‰é”™è¯¯è¿˜è¯·å¤šå¤šæŒ‡æ­£.</p>
</blockquote>

    </div>
    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">æŸ¥çœ‹å…¶ä»–</span>
          <hr />
        </div>
        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="/daily/2019-03-25/">
                <span class="button__icon">â†</span>
                <span class="button__text">Chromeçš„Vueå·¥å…·æŸ¥çœ‹Vuexçš„StateçŠ¶æ€BUG</span>
              </a>
            </span>
          
          
            <span class="button next">
              <a href="/daily/2018-04-16-vue-axios/">
                <span class="button__text">Vueä¸­Axiosè¯·æ±‚æ•°æ®æ¸²æŸ“ç ”ç©¶</span>
                <span class="button__icon">â†’</span>
              </a>
            </span>
          
        </div>
      </div>
    

    

  </div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>Â© 2019 Powered by <a href="http://gohugo.io">Hugo</a></span>
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
    
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>





  
</div>

</body>
</html>
