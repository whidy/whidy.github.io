<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>ECMAScript6å…¥é—¨/JSäº‹ä»¶ :: Whidy Daily â€” Here is Whidy&#39;s github note, you will find somethings here.</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="2018å¹´1æœˆ30æ—¥ å°é›¨ æ— èŠ
 ECMAScript6å…¥é—¨ / JSäº‹ä»¶ æ¨¡æ¿å­—ç¬¦ä¸²(Template literals)ä¸­çš„æ ‡ç­¾æ¨¡æ¿  æ¨¡æ¿å­—ç¬¦ä¸²éå¸¸æ£’çš„åŠŸèƒ½, å‡å°‘äº†HTMLæ‹¼æ¥çš„ç¹ç, å…¶ä¸­æ ‡ç­¾æ¨¡æ¿, è¿™ä¸ªä¸œè¥¿åˆçœ‹èµ·æ¥å¾ˆå¥‡æ€ª, å¤šç»“åˆå®ä¾‹ä¼šå¥½ç†è§£ä¸€äº›.
ä»¥ä¸‹ç»“åˆMDNå’ŒECMAScript6å…¥é—¨åšä¸ªç¬”è®°
æ ‡ç­¾å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°åŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²å€¼çš„æ•°ç»„ã€‚å…¶ä½™çš„å‚æ•°ä¸è¡¨è¾¾å¼ç›¸å…³ã€‚
 æ¥çœ‹çœ‹è¿™ä¸ªä¾‹å­:
let a = 5; let b = 10; tag`Hello ${a &#43; b} world ${a * b}`; // ç­‰åŒäº tag([&#39;Hello &#39;, &#39; world &#39;, &#39;&#39;], 15, 50);  ä¸ªäººç†è§£: ç®€å•çš„è¯´, `Hello ${a &#43; b} world ${a * b}` ä¼šè¢«è¡¨è¾¾å¼(ä¾‹å¦‚: ${a &#43; b})åˆ†å‰²ä¸€ä¸ªåŒ…å«å¤šä¸ªå­—ç¬¦ä¸²çš„æ•°ç»„(å³[&#39;Hello &#39;, &#39; world &#39;, &#39;&#39;]), éœ€è¦æ³¨æ„çš„æ˜¯${a * b}åé¢è¿˜æœ‰ä¸ª&#39;&#39;(å…¶å®ä¼¼ä¹ä¹Ÿå¯ä»¥è®¤ä¸ºæœ‰nä¸ªè¡¨è¾¾å¼, å°±æœ‰n&#43;1ä¸ªå­—ç¬¦ä¸²é•¿åº¦çš„æ•°ç»„), è€Œè¡¨è¾¾å¼éƒ¨åˆ†ä¼šæŒ‰é¡ºåºä½œä¸ºå‚æ•°ä¼ å…¥è‡ªå®šä¹‰çš„tagæ–¹æ³•."/>
<meta name="keywords" content="whidy daily blog"/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/daily/2018-01-30-es6-javascript-event/" />


<link rel="stylesheet" href="/assets/style.css">



<link rel="stylesheet" href="/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">

<link rel="shortcut icon" href="/img/favicon/orange.png">



<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="ECMAScript6å…¥é—¨/JSäº‹ä»¶ :: Whidy Daily â€” Here is Whidy&#39;s github note, you will find somethings here." />
<meta name="twitter:description" content="2018å¹´1æœˆ30æ—¥ å°é›¨ æ— èŠ
 ECMAScript6å…¥é—¨ / JSäº‹ä»¶ æ¨¡æ¿å­—ç¬¦ä¸²(Template literals)ä¸­çš„æ ‡ç­¾æ¨¡æ¿  æ¨¡æ¿å­—ç¬¦ä¸²éå¸¸æ£’çš„åŠŸèƒ½, å‡å°‘äº†HTMLæ‹¼æ¥çš„ç¹ç, å…¶ä¸­æ ‡ç­¾æ¨¡æ¿, è¿™ä¸ªä¸œè¥¿åˆçœ‹èµ·æ¥å¾ˆå¥‡æ€ª, å¤šç»“åˆå®ä¾‹ä¼šå¥½ç†è§£ä¸€äº›.
ä»¥ä¸‹ç»“åˆMDNå’ŒECMAScript6å…¥é—¨åšä¸ªç¬”è®°
æ ‡ç­¾å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°åŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²å€¼çš„æ•°ç»„ã€‚å…¶ä½™çš„å‚æ•°ä¸è¡¨è¾¾å¼ç›¸å…³ã€‚
 æ¥çœ‹çœ‹è¿™ä¸ªä¾‹å­:
let a = 5; let b = 10; tag`Hello ${a &#43; b} world ${a * b}`; // ç­‰åŒäº tag([&#39;Hello &#39;, &#39; world &#39;, &#39;&#39;], 15, 50);  ä¸ªäººç†è§£: ç®€å•çš„è¯´, `Hello ${a &#43; b} world ${a * b}` ä¼šè¢«è¡¨è¾¾å¼(ä¾‹å¦‚: ${a &#43; b})åˆ†å‰²ä¸€ä¸ªåŒ…å«å¤šä¸ªå­—ç¬¦ä¸²çš„æ•°ç»„(å³[&#39;Hello &#39;, &#39; world &#39;, &#39;&#39;]), éœ€è¦æ³¨æ„çš„æ˜¯${a * b}åé¢è¿˜æœ‰ä¸ª&#39;&#39;(å…¶å®ä¼¼ä¹ä¹Ÿå¯ä»¥è®¤ä¸ºæœ‰nä¸ªè¡¨è¾¾å¼, å°±æœ‰n&#43;1ä¸ªå­—ç¬¦ä¸²é•¿åº¦çš„æ•°ç»„), è€Œè¡¨è¾¾å¼éƒ¨åˆ†ä¼šæŒ‰é¡ºåºä½œä¸ºå‚æ•°ä¼ å…¥è‡ªå®šä¹‰çš„tagæ–¹æ³•." />
<meta name="twitter:site" content="/" />
<meta name="twitter:creator" content="whidy" />
<meta name="twitter:image" content="">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="ECMAScript6å…¥é—¨/JSäº‹ä»¶ :: Whidy Daily â€” Here is Whidy&#39;s github note, you will find somethings here.">
<meta property="og:description" content="2018å¹´1æœˆ30æ—¥ å°é›¨ æ— èŠ
 ECMAScript6å…¥é—¨ / JSäº‹ä»¶ æ¨¡æ¿å­—ç¬¦ä¸²(Template literals)ä¸­çš„æ ‡ç­¾æ¨¡æ¿  æ¨¡æ¿å­—ç¬¦ä¸²éå¸¸æ£’çš„åŠŸèƒ½, å‡å°‘äº†HTMLæ‹¼æ¥çš„ç¹ç, å…¶ä¸­æ ‡ç­¾æ¨¡æ¿, è¿™ä¸ªä¸œè¥¿åˆçœ‹èµ·æ¥å¾ˆå¥‡æ€ª, å¤šç»“åˆå®ä¾‹ä¼šå¥½ç†è§£ä¸€äº›.
ä»¥ä¸‹ç»“åˆMDNå’ŒECMAScript6å…¥é—¨åšä¸ªç¬”è®°
æ ‡ç­¾å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°åŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²å€¼çš„æ•°ç»„ã€‚å…¶ä½™çš„å‚æ•°ä¸è¡¨è¾¾å¼ç›¸å…³ã€‚
 æ¥çœ‹çœ‹è¿™ä¸ªä¾‹å­:
let a = 5; let b = 10; tag`Hello ${a &#43; b} world ${a * b}`; // ç­‰åŒäº tag([&#39;Hello &#39;, &#39; world &#39;, &#39;&#39;], 15, 50);  ä¸ªäººç†è§£: ç®€å•çš„è¯´, `Hello ${a &#43; b} world ${a * b}` ä¼šè¢«è¡¨è¾¾å¼(ä¾‹å¦‚: ${a &#43; b})åˆ†å‰²ä¸€ä¸ªåŒ…å«å¤šä¸ªå­—ç¬¦ä¸²çš„æ•°ç»„(å³[&#39;Hello &#39;, &#39; world &#39;, &#39;&#39;]), éœ€è¦æ³¨æ„çš„æ˜¯${a * b}åé¢è¿˜æœ‰ä¸ª&#39;&#39;(å…¶å®ä¼¼ä¹ä¹Ÿå¯ä»¥è®¤ä¸ºæœ‰nä¸ªè¡¨è¾¾å¼, å°±æœ‰n&#43;1ä¸ªå­—ç¬¦ä¸²é•¿åº¦çš„æ•°ç»„), è€Œè¡¨è¾¾å¼éƒ¨åˆ†ä¼šæŒ‰é¡ºåºä½œä¸ºå‚æ•°ä¼ å…¥è‡ªå®šä¹‰çš„tagæ–¹æ³•." />
<meta property="og:url" content="/daily/2018-01-30-es6-javascript-event/" />
<meta property="og:site_name" content="ECMAScript6å…¥é—¨/JSäº‹ä»¶" />
<meta property="og:image" content="">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2018-01-30 00:00:00 &#43;0000 UTC" />











</head>
<body class="">


<div class="container full">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Daily Note
  </div>
</a>

    </div>
    <div class="menu-trigger">menu</div>
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/daily">DailyğŸ“’</a></li>
        
      
        
          <li><a href="/post">PostğŸ˜</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/daily">DailyğŸ“’</a></li>
      
    
      
        <li><a href="/post">PostğŸ˜</a></li>
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
  <div class="post">
    <h1 class="post-title"><a href="/daily/2018-01-30-es6-javascript-event/">ECMAScript6å…¥é—¨/JSäº‹ä»¶</a></h1>
    <div class="post-meta">
      <span class="post-date">
        2018-01-30
      </span>
      <span class="post-author">:: whidy</span>
    </div>

    

    

    <div class="post-content">
      

<blockquote>
<p>2018å¹´1æœˆ30æ—¥ å°é›¨ æ— èŠ</p>
</blockquote>

<h1 id="ecmascript6å…¥é—¨-jsäº‹ä»¶">ECMAScript6å…¥é—¨ / JSäº‹ä»¶</h1>

<h2 id="æ¨¡æ¿å­—ç¬¦ä¸²-template-literals-ä¸­çš„æ ‡ç­¾æ¨¡æ¿">æ¨¡æ¿å­—ç¬¦ä¸²(Template literals)ä¸­çš„æ ‡ç­¾æ¨¡æ¿</h2>

<blockquote>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/template_strings">æ¨¡æ¿å­—ç¬¦ä¸²</a>éå¸¸æ£’çš„åŠŸèƒ½, å‡å°‘äº†HTMLæ‹¼æ¥çš„ç¹ç, å…¶ä¸­<a href="http://es6.ruanyifeng.com/?search=%E8%A7%A3%E6%9E%84&amp;x=10&amp;y=8#docs/string#%E6%A0%87%E7%AD%BE%E6%A8%A1%E6%9D%BF">æ ‡ç­¾æ¨¡æ¿</a>, è¿™ä¸ªä¸œè¥¿åˆçœ‹èµ·æ¥å¾ˆå¥‡æ€ª, å¤šç»“åˆå®ä¾‹ä¼šå¥½ç†è§£ä¸€äº›.</p>

<p>ä»¥ä¸‹ç»“åˆMDNå’ŒECMAScript6å…¥é—¨åšä¸ªç¬”è®°</p>

<p>æ ‡ç­¾å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°åŒ…å«<strong>ä¸€ä¸ªå­—ç¬¦ä¸²å€¼çš„æ•°ç»„</strong>ã€‚å…¶ä½™çš„å‚æ•°ä¸è¡¨è¾¾å¼ç›¸å…³ã€‚</p>
</blockquote>

<p>æ¥çœ‹çœ‹è¿™ä¸ªä¾‹å­:</p>

<pre><code class="language-javascript">let a = 5;
let b = 10;

tag`Hello ${a + b} world ${a * b}`;
// ç­‰åŒäº
tag(['Hello ', ' world ', ''], 15, 50);
</code></pre>

<p>ä¸ªäººç†è§£: ç®€å•çš„è¯´, `Hello ${a + b} world ${a * b}` ä¼šè¢«è¡¨è¾¾å¼(ä¾‹å¦‚: <code>${a + b}</code>)åˆ†å‰²ä¸€ä¸ªåŒ…å«å¤šä¸ªå­—ç¬¦ä¸²çš„æ•°ç»„(å³<code>['Hello ', ' world ', '']</code>), éœ€è¦æ³¨æ„çš„æ˜¯<code>${a * b}</code>åé¢è¿˜æœ‰ä¸ª<code>''</code>(å…¶å®ä¼¼ä¹ä¹Ÿå¯ä»¥è®¤ä¸ºæœ‰<code>n</code>ä¸ªè¡¨è¾¾å¼, å°±æœ‰<code>n+1</code>ä¸ªå­—ç¬¦ä¸²é•¿åº¦çš„æ•°ç»„), è€Œè¡¨è¾¾å¼éƒ¨åˆ†ä¼šæŒ‰é¡ºåºä½œä¸ºå‚æ•°ä¼ å…¥è‡ªå®šä¹‰çš„<code>tag</code>æ–¹æ³•. ä»¥ä¸‹å®ä¾‹è¯æ˜:</p>

<pre><code class="language-javascript">let a = 5;
let b = 10;

function tag(s, v1, v2) {
  console.log(s[0]);
  console.log(s[1]);
  console.log(s[2]);
  console.log(v1);
  console.log(v2);

  return 'OK';
}

tag`Hello ${a + b} world ${a * b}`;
// &quot;Hello &quot;
// &quot; world &quot;
// &quot;&quot;
// 15
// 50
// &quot;OK&quot;
</code></pre>

<blockquote>
<p>MDNä¸Šé¢è¿˜æœ‰ä¸€äº›ç›¸å¯¹å¤æ‚çš„ç¤ºä¾‹, å»ºè®®ä¹Ÿå»äº†è§£ä¸‹, è‡ªå·±åšä¸ªæ€»ç»“å, ç†è§£å’Œå°è±¡æ·±åˆ»äº†è®¸å¤š</p>
</blockquote>

<h2 id="javascriptäº‹ä»¶">javascriptäº‹ä»¶</h2>

<p>å‚é˜…<a href="https://www.quirksmode.org/js/events_order.html">Event order</a>,<a href="https://stackoverflow.com/questions/6348494/addeventlistener-vs-onclick">StackOverflow: addEventListener vs onclick</a>ä»¥åŠ<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener">MDN: EventTarget.addEventListener()</a>åšäº†ä¸€äº›ç®€å•çš„æ€»ç»“.</p>

<p>è€å®è¯´, çœ‹ä¸€å¤©es6çœŸçš„å¾ˆç´¯. ç´¢æ€§å»çœ‹äº†äº›åˆ«çš„. æ­£å·§çœ‹åˆ°å…³äºäº‹ä»¶ç›¸å…³çš„çŸ¥è¯†ç‚¹, <code>addEventListener</code>å’Œ<code>onclick</code>è¿™ç±»äº‹ä»¶ç»‘å®šçš„åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢?</p>

<p><code>addEventListener</code>æ˜¯ä¸€ä¸ªç›¸å¯¹å¥½çš„ä¸ºå…ƒç´ æ·»åŠ äº‹ä»¶çš„æ–¹æ³•, å¹¶ä¸”å¯ä»¥é‡å¤ç»‘å®š, æœ‰å¾ˆå¤šå¯é€‰å‚æ•°å¯ä»¥æ§åˆ¶äº‹ä»¶ä»¥<code>æ•è·</code>(capture)è¿˜æ˜¯<code>å†’æ³¡</code>(bubble)æ¥å¤„ç†.</p>

<p>å¦‚æœæ˜¯<code>true</code>åˆ™æ˜¯æ•è·, <code>false</code>åˆ™æ˜¯å†’æ³¡, æ•è·æ˜¯ä»å¤–éƒ¨å‘å†…éƒ¨ä¼ é€’, å†’æ³¡åä¹‹.</p>

<p><code>onclick</code>åˆ™æ˜¯é»˜è®¤å†’æ³¡çš„, å¦å¤–ç”±äºäº‹ä»¶è§¦å‘ä¸æ–­å‘çˆ¶çº§ä¼ é€’, å› æ­¤å¯èƒ½ä¼šè§¦å‘çˆ¶çº§çš„å…¶ä»–äº‹ä»¶, å› æ­¤éœ€è¦é˜»æ­¢å†’æ³¡. ä¹Ÿå°±éœ€è¦ç”¨åˆ°<code>e.stopPropagation()</code>, å°¤å…¶åœ¨æ‹–æ‹½äº‹ä»¶ä¸Šé¢çš„å¤„ç†, è¿™ä¸ªå°±æ˜¾å¾—å°¤ä¸ºé‡è¦!</p>

<p>å¦å¤–<code>addEventListener</code>çš„å‚æ•°ç›¸å½“çš„å¤š, MDNä¸Šé¢ä»‹ç»äº†ä¸€äº›å®ƒçš„ç‰¹ç‚¹, æ¯”å¦‚<strong>å¤„ç†è¿‡ç¨‹ä¸­ this çš„å€¼çš„é—®é¢˜</strong>,</p>

<p>æœ‰ä¸€æ®µä»£ç ä¸å¤ªå¸¸è§çš„, æ˜¯<code>bind</code>ç›¸å…³çš„ä¾‹å­ï¼š</p>

<pre><code class="language-javascript">var Something = function(element) {
  // |this| is a newly created object
  this.name = 'Something Good';
  this.onclick1 = function(event) {
    console.log(this.name); // undefined, as |this| is the element
  };
  this.onclick2 = function(event) {
    console.log(this.name); // 'Something Good', as |this| is bound to newly created object
  };
  element.addEventListener('click', this.onclick1, false);
  element.addEventListener('click', this.onclick2.bind(this), false); // Trick
}
var s = new Something(document.body);
</code></pre>

<p>è¿˜æœ‰ä¸€ä¸ª<a href="https://developers.google.com/web/updates/2016/06/passive-event-listeners"><code>ä½¿ç”¨ passive æ”¹å–„çš„æ»šå±æ€§èƒ½</code></a>æ˜¯å€¼å¾—æ³¨æ„çš„:</p>

<pre><code class="language-javascript">var elem = document.getElementById('elem'); 
elem.addEventListener('touchmove', function listener() { /* do something */ }, { passive: true });
</code></pre>

<p>è€Œonclickå¯èƒ½ä¼šç”±äºé‡å¤äº‹ä»¶è¢«è¦†ç›–çš„å±é™©.</p>

<h2 id="å…¶ä»–">å…¶ä»–</h2>

<p>ä¸€æ—©ä¸Šæƒ³èµ·æ˜¨å¤©åœ¨SegmentFaultçœ‹åˆ°ä¸€ç¯‡è¯‘æ–‡<a href="https://segmentfault.com/a/1190000013036227">ç¼–ç¨‹æŠ€å·§ï¼šå°è¯•ä¸ç”¨ If è¯­å¥ç¼–ç¨‹</a>, ä¹Ÿè¯»äº†ä¸€ä¸‹åŸæ–‡, æ„Ÿè§‰æ€è·¯è¿˜æ˜¯æŒºä¸é”™çš„. å…¶ä¸­ç¤ºä¾‹äºŒä¸­è¿ç”¨äº†<code>return</code>ä¸­çš„<code>or</code>æ“ä½œç¬¦æŠ€å·§. å¯¹åº”å˜é‡çš„å±æ€§ä¸­çš„å¯¹è±¡, è¿”å›ä¸åŒçš„å€¼, å¾ˆæ£’!</p>

    </div>
    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">æŸ¥çœ‹å…¶ä»–</span>
          <hr />
        </div>
        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="/daily/2018-02-01-regexp/">
                <span class="button__icon">â†</span>
                <span class="button__text">å¤ä¹ æ­£åˆ™è¡¨è¾¾å¼</span>
              </a>
            </span>
          
          
            <span class="button next">
              <a href="/daily/2018-01-29-es6-function/">
                <span class="button__text">ECMAScript6å…¥é—¨/å‡½æ•°</span>
                <span class="button__icon">â†’</span>
              </a>
            </span>
          
        </div>
      </div>
    

    

  </div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>Â© 2019 Powered by <a href="http://gohugo.io">Hugo</a></span>
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
    
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>





  
</div>

</body>
</html>
